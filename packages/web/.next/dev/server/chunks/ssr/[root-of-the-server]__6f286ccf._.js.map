{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucusdato/Documents/Dev/ShortStaffed%20MediaTools/packages/web/core/ui/FileUpload.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRef } from \"react\";\n\ninterface FileUploadProps {\n  label: string;\n  accept?: string;\n  onFileSelect: (file: File) => void;\n  selectedFile?: File | null;\n  description?: string;\n}\n\nexport default function FileUpload({\n  label,\n  accept = \".xlsx,.xls\",\n  onFileSelect,\n  selectedFile,\n  description,\n}: FileUploadProps) {\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      onFileSelect(file);\n    }\n  };\n\n  const handleClick = () => {\n    inputRef.current?.click();\n  };\n\n  return (\n    <div className=\"space-y-2\">\n      <label className=\"block text-sm font-medium text-slate-700 dark:text-slate-300\">\n        {label}\n      </label>\n      {description && (\n        <p className=\"text-sm text-slate-500 dark:text-slate-400\">\n          {description}\n        </p>\n      )}\n      <div\n        onClick={handleClick}\n        className=\"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg p-6 text-center cursor-pointer hover:border-blue-400 hover:bg-blue-50/50 dark:hover:bg-blue-900/10 transition-colors\"\n      >\n        <input\n          ref={inputRef}\n          type=\"file\"\n          accept={accept}\n          onChange={handleFileChange}\n          className=\"hidden\"\n        />\n        {selectedFile ? (\n          <div className=\"flex items-center justify-center gap-2\">\n            <svg\n              className=\"w-8 h-8 text-green-500\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n              />\n            </svg>\n            <div>\n              <p className=\"font-medium text-slate-900 dark:text-white\">\n                {selectedFile.name}\n              </p>\n              <p className=\"text-sm text-slate-500 dark:text-slate-400\">\n                {(selectedFile.size / 1024).toFixed(2)} KB\n              </p>\n            </div>\n          </div>\n        ) : (\n          <div>\n            <svg\n              className=\"mx-auto h-12 w-12 text-slate-400\"\n              stroke=\"currentColor\"\n              fill=\"none\"\n              viewBox=\"0 0 48 48\"\n            >\n              <path\n                d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n            </svg>\n            <p className=\"mt-2 text-sm text-slate-600 dark:text-slate-400\">\n              Click to upload or drag and drop\n            </p>\n            <p className=\"text-xs text-slate-500 dark:text-slate-500\">\n              Excel files (.xlsx, .xls)\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAYe,SAAS,WAAW,EACjC,KAAK,EACL,SAAS,YAAY,EACrB,YAAY,EACZ,YAAY,EACZ,WAAW,EACK;IAChB,MAAM,WAAW,IAAA,+MAAM,EAAmB;IAE1C,MAAM,mBAAmB,CAAC;QACxB,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,MAAM;YACR,aAAa;QACf;IACF;IAEA,MAAM,cAAc;QAClB,SAAS,OAAO,EAAE;IACpB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAM,WAAU;0BACd;;;;;;YAEF,6BACC,8OAAC;gBAAE,WAAU;0BACV;;;;;;0BAGL,8OAAC;gBACC,SAAS;gBACT,WAAU;;kCAEV,8OAAC;wBACC,KAAK;wBACL,MAAK;wBACL,QAAQ;wBACR,UAAU;wBACV,WAAU;;;;;;oBAEX,6BACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,WAAU;gCACV,MAAK;gCACL,SAAQ;gCACR,QAAO;0CAEP,cAAA,8OAAC;oCACC,eAAc;oCACd,gBAAe;oCACf,aAAa;oCACb,GAAE;;;;;;;;;;;0CAGN,8OAAC;;kDACC,8OAAC;wCAAE,WAAU;kDACV,aAAa,IAAI;;;;;;kDAEpB,8OAAC;wCAAE,WAAU;;4CACV,CAAC,aAAa,IAAI,GAAG,IAAI,EAAE,OAAO,CAAC;4CAAG;;;;;;;;;;;;;;;;;;6CAK7C,8OAAC;;0CACC,8OAAC;gCACC,WAAU;gCACV,QAAO;gCACP,MAAK;gCACL,SAAQ;0CAER,cAAA,8OAAC;oCACC,GAAE;oCACF,aAAa;oCACb,eAAc;oCACd,gBAAe;;;;;;;;;;;0CAGnB,8OAAC;gCAAE,WAAU;0CAAkD;;;;;;0CAG/D,8OAAC;gCAAE,WAAU;0CAA6C;;;;;;;;;;;;;;;;;;;;;;;;AAQtE","debugId":null}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucusdato/Documents/Dev/ShortStaffed%20MediaTools/packages/web/core/ui/Button.tsx"],"sourcesContent":["interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: \"primary\" | \"secondary\" | \"outline\";\n  size?: \"sm\" | \"md\" | \"lg\";\n  children: React.ReactNode;\n}\n\nexport default function Button({\n  variant = \"primary\",\n  size = \"md\",\n  children,\n  className = \"\",\n  ...props\n}: ButtonProps) {\n  const baseStyles = \"font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2\";\n  \n  const variants = {\n    primary: \"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500\",\n    secondary: \"bg-slate-600 hover:bg-slate-700 text-white focus:ring-slate-500\",\n    outline: \"border-2 border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 focus:ring-slate-500\",\n  };\n\n  const sizes = {\n    sm: \"px-3 py-1.5 text-sm\",\n    md: \"px-4 py-2 text-base\",\n    lg: \"px-6 py-3 text-lg\",\n  };\n\n  return (\n    <button\n      className={`${baseStyles} ${variants[variant]} ${sizes[size]} ${className}`}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n}\n\n"],"names":[],"mappings":";;;;;;AAMe,SAAS,OAAO,EAC7B,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,QAAQ,EACR,YAAY,EAAE,EACd,GAAG,OACS;IACZ,MAAM,aAAa;IAEnB,MAAM,WAAW;QACf,SAAS;QACT,WAAW;QACX,SAAS;IACX;IAEA,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,8OAAC;QACC,WAAW,GAAG,WAAW,CAAC,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;QAC1E,GAAG,KAAK;kBAER;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucusdato/Documents/Dev/ShortStaffed%20MediaTools/packages/web/core/ui/UserBadge.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\n\ninterface UserBadgeProps {\n  userName: string;\n  userRole: string;\n  userClient: string;\n  onChangeUser: () => void;\n}\n\nexport default function UserBadge({\n  userName,\n  userRole,\n  userClient,\n  onChangeUser,\n}: UserBadgeProps) {\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  return (\n    <div className=\"relative\">\n      {/* Compact Badge */}\n      <button\n        onClick={() => setIsExpanded(!isExpanded)}\n        className=\"flex items-center gap-2 px-3 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg transition-colors\"\n        aria-label=\"User information\"\n      >\n        <svg\n          className=\"w-5 h-5 text-slate-600 dark:text-slate-300\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n          />\n        </svg>\n        <span className=\"text-sm font-medium text-slate-700 dark:text-slate-200 hidden sm:inline\">\n          {userName.split(\" \")[0]}\n        </span>\n        <svg\n          className={`w-4 h-4 text-slate-500 dark:text-slate-400 transition-transform ${\n            isExpanded ? \"rotate-180\" : \"\"\n          }`}\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M19 9l-7 7-7-7\"\n          />\n        </svg>\n      </button>\n\n      {/* Expanded Details */}\n      {isExpanded && (\n        <>\n          {/* Backdrop */}\n          <div\n            className=\"fixed inset-0 z-40\"\n            onClick={() => setIsExpanded(false)}\n          />\n\n          {/* Dropdown */}\n          <div className=\"absolute right-0 mt-2 w-72 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-200 dark:border-slate-700 z-50 overflow-hidden\">\n            {/* User Info */}\n            <div className=\"p-4 border-b border-slate-200 dark:border-slate-700\">\n              <div className=\"flex items-start gap-3\">\n                <div className=\"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center flex-shrink-0\">\n                  <span className=\"text-blue-600 dark:text-blue-300 font-bold text-lg\">\n                    {userName\n                      .split(\" \")\n                      .map((n) => n[0])\n                      .join(\"\")\n                      .toUpperCase()}\n                  </span>\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <h3 className=\"font-semibold text-slate-900 dark:text-white truncate\">\n                    {userName}\n                  </h3>\n                  <p className=\"text-sm text-slate-600 dark:text-slate-400 truncate\">\n                    {userRole}\n                  </p>\n                  <p className=\"text-xs text-slate-500 dark:text-slate-500 mt-1\">\n                    {userClient}\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Actions */}\n            <div className=\"p-2\">\n              <button\n                onClick={() => {\n                  setIsExpanded(false);\n                  onChangeUser();\n                }}\n                className=\"w-full text-left px-3 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors flex items-center gap-2\"\n              >\n                <svg\n                  className=\"w-4 h-4\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4\"\n                  />\n                </svg>\n                Switch User\n              </button>\n            </div>\n\n            {/* Info Footer */}\n            <div className=\"px-4 py-3 bg-slate-50 dark:bg-slate-900/50 border-t border-slate-200 dark:border-slate-700\">\n              <p className=\"text-xs text-slate-500 dark:text-slate-500\">\n                Your usage is being tracked for analytics purposes.\n              </p>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAWe,SAAS,UAAU,EAChC,QAAQ,EACR,QAAQ,EACR,UAAU,EACV,YAAY,EACG;IACf,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBACC,SAAS,IAAM,cAAc,CAAC;gBAC9B,WAAU;gBACV,cAAW;;kCAEX,8OAAC;wBACC,WAAU;wBACV,MAAK;wBACL,SAAQ;wBACR,QAAO;kCAEP,cAAA,8OAAC;4BACC,eAAc;4BACd,gBAAe;4BACf,aAAa;4BACb,GAAE;;;;;;;;;;;kCAGN,8OAAC;wBAAK,WAAU;kCACb,SAAS,KAAK,CAAC,IAAI,CAAC,EAAE;;;;;;kCAEzB,8OAAC;wBACC,WAAW,CAAC,gEAAgE,EAC1E,aAAa,eAAe,IAC5B;wBACF,MAAK;wBACL,SAAQ;wBACR,QAAO;kCAEP,cAAA,8OAAC;4BACC,eAAc;4BACd,gBAAe;4BACf,aAAa;4BACb,GAAE;;;;;;;;;;;;;;;;;YAMP,4BACC;;kCAEE,8OAAC;wBACC,WAAU;wBACV,SAAS,IAAM,cAAc;;;;;;kCAI/B,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDAAK,WAAU;0DACb,SACE,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,IAAM,CAAC,CAAC,EAAE,EACf,IAAI,CAAC,IACL,WAAW;;;;;;;;;;;sDAGlB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAG,WAAU;8DACX;;;;;;8DAEH,8OAAC;oDAAE,WAAU;8DACV;;;;;;8DAEH,8OAAC;oDAAE,WAAU;8DACV;;;;;;;;;;;;;;;;;;;;;;;0CAOT,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCACC,SAAS;wCACP,cAAc;wCACd;oCACF;oCACA,WAAU;;sDAEV,8OAAC;4CACC,WAAU;4CACV,MAAK;4CACL,SAAQ;4CACR,QAAO;sDAEP,cAAA,8OAAC;gDACC,eAAc;gDACd,gBAAe;gDACf,aAAa;gDACb,GAAE;;;;;;;;;;;wCAEA;;;;;;;;;;;;0CAMV,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAE,WAAU;8CAA6C;;;;;;;;;;;;;;;;;;;;;;;;;AASxE","debugId":null}},
    {"offset": {"line": 449, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucusdato/Documents/Dev/ShortStaffed%20MediaTools/packages/web/core/ui/UserManagementModal.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { getAllClients, getAllRoles, getAllUserNames, findUserByName, USERS } from \"@/core/analytics/userDirectory\";\n\ninterface UserManagementModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onUserAdded: () => void;\n  currentUserName: string;\n}\n\ntype ViewMode = \"list\" | \"add\";\n\nexport default function UserManagementModal({\n  isOpen,\n  onClose,\n  onUserAdded,\n  currentUserName,\n}: UserManagementModalProps) {\n  const [viewMode, setViewMode] = useState<ViewMode>(\"list\");\n  const [name, setName] = useState(\"\");\n  const [role, setRole] = useState(\"\");\n  const [client, setClient] = useState(\"\");\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState(false);\n  const [deletingUser, setDeletingUser] = useState<string | null>(null);\n\n  const existingClients = getAllClients();\n  const existingRoles = getAllRoles();\n  const existingNames = getAllUserNames();\n\n  const roleOptions = [\n    \"Associate Planner\",\n    \"Media Planner\",\n    \"Senior Media Planner\",\n    \"Supervisor\",\n    \"Manager\",\n    \"Senior Manager\",\n    \"Director\",\n    \"Senior Director\",\n    \"VP\",\n  ];\n\n  if (!isOpen) return null;\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n    setSuccess(false);\n\n    if (!name.trim() || !role.trim() || !client.trim()) {\n      setError(\"Please fill in all fields\");\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      const response = await fetch(\"/api/analytics/directory\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          name: name.trim(),\n          role: role.trim(),\n          client: client.trim(),\n          isAdmin,\n          requestingUser: currentUserName,\n        }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || \"Failed to add user\");\n      }\n\n      setSuccess(true);\n      setName(\"\");\n      setRole(\"\");\n      setClient(\"\");\n      setIsAdmin(false);\n\n      // Notify parent and close after a brief delay\n      setTimeout(() => {\n        onUserAdded();\n        onClose();\n        setSuccess(false);\n      }, 1500);\n    } catch (err) {\n      console.error(\"Failed to add user:\", err);\n      setError(err instanceof Error ? err.message : \"Something went wrong. Please try again.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleClose = () => {\n    if (!isSubmitting) {\n      setViewMode(\"list\");\n      setName(\"\");\n      setRole(\"\");\n      setClient(\"\");\n      setIsAdmin(false);\n      setError(null);\n      setSuccess(false);\n      onClose();\n    }\n  };\n\n  const handleDeleteUser = async (userName: string, userClient: string) => {\n    if (!confirm(`Are you sure you want to delete ${userName}?`)) {\n      return;\n    }\n\n    setDeletingUser(userName);\n    setError(null);\n\n    try {\n      const currentUser = findUserByName(currentUserName);\n      const response = await fetch(\"/api/analytics/directory\", {\n        method: \"DELETE\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          name: userName,\n          client: userClient,\n          requestingUser: currentUserName,\n          isMasterAdmin: currentUser?.isMasterAdmin || false,\n        }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || \"Failed to delete user\");\n      }\n\n      // Reload the page to refresh the user directory\n      window.location.reload();\n    } catch (err) {\n      console.error(\"Failed to delete user:\", err);\n      setError(err instanceof Error ? err.message : \"Failed to delete user\");\n    } finally {\n      setDeletingUser(null);\n    }\n  };\n\n  const currentUser = findUserByName(currentUserName);\n  const isMasterAdmin = currentUser?.isMasterAdmin || false;\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n      <div className=\"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"p-6 border-b border-slate-200 dark:border-slate-700\">\n          <div className=\"flex items-center justify-between\">\n            <h2 className=\"text-2xl font-bold text-slate-900 dark:text-white\">\n              {viewMode === \"list\" ? \"Manage Users\" : \"Add New User\"}\n            </h2>\n            <button\n              onClick={handleClose}\n              disabled={isSubmitting}\n              className=\"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors disabled:opacity-50\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n          <p className=\"text-slate-600 dark:text-slate-400 mt-2\">\n            {viewMode === \"list\"\n              ? \"View and manage all users in the directory\"\n              : \"Add a new user to the QuickClick Media Suite directory\"}\n          </p>\n        </div>\n\n        {/* User List View */}\n        {viewMode === \"list\" && (\n          <div className=\"p-6\">\n            <div className=\"mb-4 flex justify-between items-center\">\n              <p className=\"text-sm text-slate-600 dark:text-slate-400\">\n                {USERS.length} user{USERS.length !== 1 ? \"s\" : \"\"} in directory\n              </p>\n              <button\n                onClick={() => setViewMode(\"add\")}\n                className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2\"\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                </svg>\n                Add User\n              </button>\n            </div>\n\n            {error && (\n              <div className=\"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg\">\n                <p className=\"text-sm text-red-600 dark:text-red-400\">{error}</p>\n              </div>\n            )}\n\n            <div className=\"space-y-2 max-h-96 overflow-y-auto\">\n              {USERS.map((user) => {\n                const isCurrentUser = user.name === currentUserName;\n                const canDelete = isMasterAdmin || (!user.isAdmin && !isCurrentUser);\n                const isDeleting = deletingUser === user.name;\n\n                return (\n                  <div\n                    key={`${user.name}-${user.client}`}\n                    className=\"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors\"\n                  >\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2\">\n                        <p className=\"font-medium text-slate-900 dark:text-white\">\n                          {user.name}\n                          {isCurrentUser && (\n                            <span className=\"ml-2 text-xs text-blue-600 dark:text-blue-400\">(You)</span>\n                          )}\n                        </p>\n                        {user.isMasterAdmin && (\n                          <span className=\"px-2 py-1 text-xs font-semibold text-purple-700 dark:text-purple-300 bg-purple-100 dark:bg-purple-900/30 rounded\">\n                            Master Admin\n                          </span>\n                        )}\n                        {user.isAdmin && !user.isMasterAdmin && (\n                          <span className=\"px-2 py-1 text-xs font-semibold text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/30 rounded\">\n                            Admin\n                          </span>\n                        )}\n                      </div>\n                      <p className=\"text-sm text-slate-600 dark:text-slate-400\">\n                        {user.role} â€¢ {user.client}\n                      </p>\n                    </div>\n\n                    {canDelete && (\n                      <button\n                        onClick={() => handleDeleteUser(user.name, user.client)}\n                        disabled={isDeleting}\n                        className=\"px-3 py-2 text-sm font-medium text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                      >\n                        {isDeleting ? \"Deleting...\" : \"Delete\"}\n                      </button>\n                    )}\n                    {!canDelete && !isCurrentUser && (\n                      <span className=\"text-xs text-slate-400 dark:text-slate-500\">\n                        Protected\n                      </span>\n                    )}\n                  </div>\n                );\n              })}\n            </div>\n\n            <div className=\"mt-6 flex justify-end\">\n              <button\n                onClick={handleClose}\n                className=\"px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Add User Form */}\n        {viewMode === \"add\" && (\n          <div className=\"p-6\">\n            <button\n              onClick={() => setViewMode(\"list\")}\n              className=\"mb-4 flex items-center gap-2 text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white transition-colors\"\n            >\n              <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n              </svg>\n              Back to user list\n            </button>\n\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n          {/* Name */}\n          <div>\n            <label htmlFor=\"name\" className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2\">\n              Full Name\n            </label>\n            <input\n              type=\"text\"\n              id=\"name\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              placeholder=\"e.g., John Doe\"\n              disabled={isSubmitting}\n              list=\"existing-names\"\n              className=\"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-slate-400 disabled:opacity-50\"\n            />\n            <datalist id=\"existing-names\">\n              {existingNames.map((nameOption) => (\n                <option key={nameOption} value={nameOption} />\n              ))}\n            </datalist>\n          </div>\n\n          {/* Role */}\n          <div>\n            <label htmlFor=\"role\" className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2\">\n              Role\n            </label>\n            <input\n              type=\"text\"\n              id=\"role\"\n              value={role}\n              onChange={(e) => setRole(e.target.value)}\n              placeholder=\"Type or select a role...\"\n              disabled={isSubmitting}\n              list=\"existing-roles\"\n              className=\"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-slate-400 disabled:opacity-50\"\n            />\n            <datalist id=\"existing-roles\">\n              {[...new Set([...roleOptions, ...existingRoles])].sort().map((roleOption) => (\n                <option key={roleOption} value={roleOption} />\n              ))}\n            </datalist>\n            <p className=\"mt-1 text-xs text-slate-500 dark:text-slate-400\">\n              Select from list or type a custom role\n            </p>\n          </div>\n\n          {/* Client */}\n          <div>\n            <label htmlFor=\"client\" className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2\">\n              Client\n            </label>\n            <input\n              type=\"text\"\n              id=\"client\"\n              value={client}\n              onChange={(e) => setClient(e.target.value)}\n              placeholder=\"Type or select a client...\"\n              disabled={isSubmitting}\n              list=\"existing-clients\"\n              className=\"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-slate-400 disabled:opacity-50\"\n            />\n            <datalist id=\"existing-clients\">\n              {existingClients.map((clientOption) => (\n                <option key={clientOption} value={clientOption} />\n              ))}\n            </datalist>\n            <p className=\"mt-1 text-xs text-slate-500 dark:text-slate-400\">\n              Select from list or type a custom client\n            </p>\n          </div>\n\n          {/* Admin Checkbox */}\n          {findUserByName(currentUserName)?.isMasterAdmin && (\n            <div className=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                id=\"isAdmin\"\n                checked={isAdmin}\n                onChange={(e) => setIsAdmin(e.target.checked)}\n                disabled={isSubmitting}\n                className=\"w-4 h-4 text-blue-600 border-slate-300 rounded focus:ring-2 focus:ring-blue-500 disabled:opacity-50\"\n              />\n              <label htmlFor=\"isAdmin\" className=\"ml-2 text-sm text-slate-700 dark:text-slate-300\">\n                Grant admin privileges (can manage users and view analytics)\n              </label>\n            </div>\n          )}\n          {!findUserByName(currentUserName)?.isMasterAdmin && (\n            <div className=\"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg\">\n              <p className=\"text-xs text-blue-700 dark:text-blue-300\">\n                Only the Master Admin can grant admin privileges to new users.\n              </p>\n            </div>\n          )}\n\n          {/* Error Message */}\n          {error && (\n            <div className=\"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg\">\n              <p className=\"text-sm text-red-600 dark:text-red-400\">{error}</p>\n            </div>\n          )}\n\n          {/* Success Message */}\n          {success && (\n            <div className=\"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg\">\n              <p className=\"text-sm text-green-600 dark:text-green-400\">User added successfully!</p>\n            </div>\n          )}\n\n          {/* Buttons */}\n          <div className=\"flex gap-3 pt-4\">\n            <button\n              type=\"button\"\n              onClick={handleClose}\n              disabled={isSubmitting}\n              className=\"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors disabled:opacity-50\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={isSubmitting}\n              className=\"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isSubmitting ? \"Adding...\" : \"Add User\"}\n            </button>\n          </div>\n        </form>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAce,SAAS,oBAAoB,EAC1C,MAAM,EACN,OAAO,EACP,WAAW,EACX,eAAe,EACU;IACzB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAW;IACnD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAgB;IAEhE,MAAM,kBAAkB,IAAA,sKAAa;IACrC,MAAM,gBAAgB,IAAA,oKAAW;IACjC,MAAM,gBAAgB,IAAA,wKAAe;IAErC,MAAM,cAAc;QAClB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI,CAAC,KAAK,IAAI,MAAM,CAAC,KAAK,IAAI,MAAM,CAAC,OAAO,IAAI,IAAI;YAClD,SAAS;YACT;QACF;QAEA,gBAAgB;QAEhB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,4BAA4B;gBACvD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,MAAM,KAAK,IAAI;oBACf,MAAM,KAAK,IAAI;oBACf,QAAQ,OAAO,IAAI;oBACnB;oBACA,gBAAgB;gBAClB;YACF;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;YAChC;YAEA,WAAW;YACX,QAAQ;YACR,QAAQ;YACR,UAAU;YACV,WAAW;YAEX,8CAA8C;YAC9C,WAAW;gBACT;gBACA;gBACA,WAAW;YACb,GAAG;QACL,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,uBAAuB;YACrC,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAChD,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,MAAM,cAAc;QAClB,IAAI,CAAC,cAAc;YACjB,YAAY;YACZ,QAAQ;YACR,QAAQ;YACR,UAAU;YACV,WAAW;YACX,SAAS;YACT,WAAW;YACX;QACF;IACF;IAEA,MAAM,mBAAmB,OAAO,UAAkB;QAChD,IAAI,CAAC,QAAQ,CAAC,gCAAgC,EAAE,SAAS,CAAC,CAAC,GAAG;YAC5D;QACF;QAEA,gBAAgB;QAChB,SAAS;QAET,IAAI;YACF,MAAM,cAAc,IAAA,uKAAc,EAAC;YACnC,MAAM,WAAW,MAAM,MAAM,4BAA4B;gBACvD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,MAAM;oBACN,QAAQ;oBACR,gBAAgB;oBAChB,eAAe,aAAa,iBAAiB;gBAC/C;YACF;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;YAChC;YAEA,gDAAgD;YAChD,OAAO,QAAQ,CAAC,MAAM;QACxB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,0BAA0B;YACxC,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAChD,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,MAAM,cAAc,IAAA,uKAAc,EAAC;IACnC,MAAM,gBAAgB,aAAa,iBAAiB;IAEpD,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CACX,aAAa,SAAS,iBAAiB;;;;;;8CAE1C,8OAAC;oCACC,SAAS;oCACT,UAAU;oCACV,WAAU;8CAEV,cAAA,8OAAC;wCAAI,WAAU;wCAAU,MAAK;wCAAO,SAAQ;wCAAY,QAAO;kDAC9D,cAAA,8OAAC;4CAAK,eAAc;4CAAQ,gBAAe;4CAAQ,aAAa;4CAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;sCAI3E,8OAAC;4BAAE,WAAU;sCACV,aAAa,SACV,+CACA;;;;;;;;;;;;gBAKP,aAAa,wBACZ,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;;wCACV,8JAAK,CAAC,MAAM;wCAAC;wCAAM,8JAAK,CAAC,MAAM,KAAK,IAAI,MAAM;wCAAG;;;;;;;8CAEpD,8OAAC;oCACC,SAAS,IAAM,YAAY;oCAC3B,WAAU;;sDAEV,8OAAC;4CAAI,WAAU;4CAAU,MAAK;4CAAO,SAAQ;4CAAY,QAAO;sDAC9D,cAAA,8OAAC;gDAAK,eAAc;gDAAQ,gBAAe;gDAAQ,aAAa;gDAAG,GAAE;;;;;;;;;;;wCACjE;;;;;;;;;;;;;wBAKT,uBACC,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAE,WAAU;0CAA0C;;;;;;;;;;;sCAI3D,8OAAC;4BAAI,WAAU;sCACZ,8JAAK,CAAC,GAAG,CAAC,CAAC;gCACV,MAAM,gBAAgB,KAAK,IAAI,KAAK;gCACpC,MAAM,YAAY,iBAAkB,CAAC,KAAK,OAAO,IAAI,CAAC;gCACtD,MAAM,aAAa,iBAAiB,KAAK,IAAI;gCAE7C,qBACE,8OAAC;oCAEC,WAAU;;sDAEV,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAE,WAAU;;gEACV,KAAK,IAAI;gEACT,+BACC,8OAAC;oEAAK,WAAU;8EAAgD;;;;;;;;;;;;wDAGnE,KAAK,aAAa,kBACjB,8OAAC;4DAAK,WAAU;sEAAmH;;;;;;wDAIpI,KAAK,OAAO,IAAI,CAAC,KAAK,aAAa,kBAClC,8OAAC;4DAAK,WAAU;sEAA2G;;;;;;;;;;;;8DAK/H,8OAAC;oDAAE,WAAU;;wDACV,KAAK,IAAI;wDAAC;wDAAI,KAAK,MAAM;;;;;;;;;;;;;wCAI7B,2BACC,8OAAC;4CACC,SAAS,IAAM,iBAAiB,KAAK,IAAI,EAAE,KAAK,MAAM;4CACtD,UAAU;4CACV,WAAU;sDAET,aAAa,gBAAgB;;;;;;wCAGjC,CAAC,aAAa,CAAC,+BACd,8OAAC;4CAAK,WAAU;sDAA6C;;;;;;;mCArC1D,GAAG,KAAK,IAAI,CAAC,CAAC,EAAE,KAAK,MAAM,EAAE;;;;;4BA2CxC;;;;;;sCAGF,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;;;;;;;;;;;;gBAQN,aAAa,uBACZ,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,SAAS,IAAM,YAAY;4BAC3B,WAAU;;8CAEV,8OAAC;oCAAI,WAAU;oCAAU,MAAK;oCAAO,SAAQ;oCAAY,QAAO;8CAC9D,cAAA,8OAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;gCACjE;;;;;;;sCAIR,8OAAC;4BAAK,UAAU;4BAAc,WAAU;;8CAE1C,8OAAC;;sDACC,8OAAC;4CAAM,SAAQ;4CAAO,WAAU;sDAAoE;;;;;;sDAGpG,8OAAC;4CACC,MAAK;4CACL,IAAG;4CACH,OAAO;4CACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;4CACvC,aAAY;4CACZ,UAAU;4CACV,MAAK;4CACL,WAAU;;;;;;sDAEZ,8OAAC;4CAAS,IAAG;sDACV,cAAc,GAAG,CAAC,CAAC,2BAClB,8OAAC;oDAAwB,OAAO;mDAAnB;;;;;;;;;;;;;;;;8CAMnB,8OAAC;;sDACC,8OAAC;4CAAM,SAAQ;4CAAO,WAAU;sDAAoE;;;;;;sDAGpG,8OAAC;4CACC,MAAK;4CACL,IAAG;4CACH,OAAO;4CACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;4CACvC,aAAY;4CACZ,UAAU;4CACV,MAAK;4CACL,WAAU;;;;;;sDAEZ,8OAAC;4CAAS,IAAG;sDACV;mDAAI,IAAI,IAAI;uDAAI;uDAAgB;iDAAc;6CAAE,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC,2BAC5D,8OAAC;oDAAwB,OAAO;mDAAnB;;;;;;;;;;sDAGjB,8OAAC;4CAAE,WAAU;sDAAkD;;;;;;;;;;;;8CAMjE,8OAAC;;sDACC,8OAAC;4CAAM,SAAQ;4CAAS,WAAU;sDAAoE;;;;;;sDAGtG,8OAAC;4CACC,MAAK;4CACL,IAAG;4CACH,OAAO;4CACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;4CACzC,aAAY;4CACZ,UAAU;4CACV,MAAK;4CACL,WAAU;;;;;;sDAEZ,8OAAC;4CAAS,IAAG;sDACV,gBAAgB,GAAG,CAAC,CAAC,6BACpB,8OAAC;oDAA0B,OAAO;mDAArB;;;;;;;;;;sDAGjB,8OAAC;4CAAE,WAAU;sDAAkD;;;;;;;;;;;;gCAMhE,IAAA,uKAAc,EAAC,kBAAkB,+BAChC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CACC,MAAK;4CACL,IAAG;4CACH,SAAS;4CACT,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,OAAO;4CAC5C,UAAU;4CACV,WAAU;;;;;;sDAEZ,8OAAC;4CAAM,SAAQ;4CAAU,WAAU;sDAAkD;;;;;;;;;;;;gCAKxF,CAAC,IAAA,uKAAc,EAAC,kBAAkB,+BACjC,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAE,WAAU;kDAA2C;;;;;;;;;;;gCAO3D,uBACC,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAE,WAAU;kDAA0C;;;;;;;;;;;gCAK1D,yBACC,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAE,WAAU;kDAA6C;;;;;;;;;;;8CAK9D,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CACC,MAAK;4CACL,SAAS;4CACT,UAAU;4CACV,WAAU;sDACX;;;;;;sDAGD,8OAAC;4CACC,MAAK;4CACL,UAAU;4CACV,WAAU;sDAET,eAAe,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS5C","debugId":null}},
    {"offset": {"line": 1168, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucusdato/Documents/Dev/ShortStaffed%20MediaTools/packages/web/core/ui/Header.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { useUser } from \"./AnalyticsProvider\";\nimport UserBadge from \"./UserBadge\";\nimport UserManagementModal from \"./UserManagementModal\";\nimport { clearUserIdentity } from \"@/core/analytics/localStorage\";\n\ninterface HeaderProps {\n  title: string;\n  subtitle: string;\n  showBackButton?: boolean;\n}\n\nexport default function Header({ title, subtitle, showBackButton = false }: HeaderProps) {\n  const userInfo = useUser();\n  const router = useRouter();\n  const [showUserManagement, setShowUserManagement] = useState(false);\n\n  const handleSwitchUser = () => {\n    clearUserIdentity();\n    window.location.reload();\n  };\n\n  return (\n    <>\n    <header className=\"sticky top-0 z-50 border-b border-slate-200 dark:border-slate-700 bg-white/90 dark:bg-slate-900/90 backdrop-blur-md shadow-sm\">\n      <div className=\"max-w-7xl mx-auto px-6 py-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-4\">\n            {showBackButton && (\n              <Link\n                href=\"/\"\n                className=\"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white transition-colors\"\n              >\n                <svg\n                  className=\"w-6 h-6\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"\n                  />\n                </svg>\n              </Link>\n            )}\n            <div>\n              <h1 className=\"text-2xl font-bold text-slate-900 dark:text-white\">\n                {title}\n              </h1>\n              <p className=\"text-slate-600 dark:text-slate-400 text-sm\">\n                {subtitle}\n              </p>\n            </div>\n          </div>\n\n          {/* Admin Controls and User Badge */}\n          <div className=\"flex items-center gap-3\">\n            {userInfo?.isAdmin && (\n              <>\n                <button\n                  onClick={() => setShowUserManagement(true)}\n                  className=\"px-4 py-2 text-sm font-medium text-slate-700 hover:text-slate-900 dark:text-slate-300 dark:hover:text-white bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-lg transition-colors flex items-center gap-2\"\n                  title=\"Manage Users\"\n                >\n                  <svg\n                    className=\"w-4 h-4\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"\n                    />\n                  </svg>\n                  Manage Users\n                </button>\n                <Link\n                  href=\"/apps/analytics-dashboard\"\n                  className=\"px-4 py-2 text-sm font-medium text-slate-700 hover:text-slate-900 dark:text-slate-300 dark:hover:text-white bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-lg transition-colors flex items-center gap-2\"\n                >\n                  <svg\n                    className=\"w-4 h-4\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n                    />\n                  </svg>\n                  Analytics\n                </Link>\n              </>\n            )}\n            {userInfo && (\n              <UserBadge\n                userName={userInfo.userName}\n                userRole={userInfo.userRole}\n                userClient={userInfo.userClient}\n                onChangeUser={handleSwitchUser}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n\n    </header>\n\n      {/* User Management Modal */}\n      {userInfo?.isAdmin && (\n        <UserManagementModal\n          isOpen={showUserManagement}\n          onClose={() => setShowUserManagement(false)}\n          onUserAdded={() => {\n            // Reload the page to refresh the user directory\n            window.location.reload();\n          }}\n          currentUserName={userInfo.userName}\n        />\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAgBe,SAAS,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,iBAAiB,KAAK,EAAe;IACrF,MAAM,WAAW,IAAA,8JAAO;IACxB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,iNAAQ,EAAC;IAE7D,MAAM,mBAAmB;QACvB,IAAA,yKAAiB;QACjB,OAAO,QAAQ,CAAC,MAAM;IACxB;IAEA,qBACE;;0BACA,8OAAC;gBAAO,WAAU;0BAChB,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;oCACZ,gCACC,8OAAC,uKAAI;wCACH,MAAK;wCACL,WAAU;kDAEV,cAAA,8OAAC;4CACC,WAAU;4CACV,MAAK;4CACL,SAAQ;4CACR,QAAO;sDAEP,cAAA,8OAAC;gDACC,eAAc;gDACd,gBAAe;gDACf,aAAa;gDACb,GAAE;;;;;;;;;;;;;;;;kDAKV,8OAAC;;0DACC,8OAAC;gDAAG,WAAU;0DACX;;;;;;0DAEH,8OAAC;gDAAE,WAAU;0DACV;;;;;;;;;;;;;;;;;;0CAMP,8OAAC;gCAAI,WAAU;;oCACZ,UAAU,yBACT;;0DACE,8OAAC;gDACC,SAAS,IAAM,sBAAsB;gDACrC,WAAU;gDACV,OAAM;;kEAEN,8OAAC;wDACC,WAAU;wDACV,MAAK;wDACL,SAAQ;wDACR,QAAO;kEAEP,cAAA,8OAAC;4DACC,eAAc;4DACd,gBAAe;4DACf,aAAa;4DACb,GAAE;;;;;;;;;;;oDAEA;;;;;;;0DAGR,8OAAC,uKAAI;gDACH,MAAK;gDACL,WAAU;;kEAEV,8OAAC;wDACC,WAAU;wDACV,MAAK;wDACL,SAAQ;wDACR,QAAO;kEAEP,cAAA,8OAAC;4DACC,eAAc;4DACd,gBAAe;4DACf,aAAa;4DACb,GAAE;;;;;;;;;;;oDAEA;;;;;;;;;oCAKX,0BACC,8OAAC,sJAAS;wCACR,UAAU,SAAS,QAAQ;wCAC3B,UAAU,SAAS,QAAQ;wCAC3B,YAAY,SAAS,UAAU;wCAC/B,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAUvB,UAAU,yBACT,8OAAC,gKAAmB;gBAClB,QAAQ;gBACR,SAAS,IAAM,sBAAsB;gBACrC,aAAa;oBACX,gDAAgD;oBAChD,OAAO,QAAQ,CAAC,MAAM;gBACxB;gBACA,iBAAiB,SAAS,QAAQ;;;;;;;;AAK5C","debugId":null}},
    {"offset": {"line": 1389, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucusdato/Documents/Dev/ShortStaffed%20MediaTools/packages/web/core/taxonomy/platforms/dv360.config.ts"],"sourcesContent":["/**\n * DV360 (YouTube TrueView) Platform Configuration\n * Based on Accutics Unilever Field Name Strings\n */\n\nimport { PlatformConfig } from '../types';\n\nexport const DV360_CONFIG: PlatformConfig = {\n  platformName: 'DV360',\n  displayName: 'DV360 (YouTube TrueView Auction Action Reach)',\n\n  taxonomyLevels: {\n    'Partner': {\n      structure: 'Free text',\n      separator: '_',\n      isRequired: false\n    },\n\n    'Advertiser': {\n      structure: ['Country-Code', 'Free text'],\n      separator: '_',\n      isRequired: true,\n      example: 'GB'\n    },\n\n    'Campaign': {\n      structure: ['Brand-Name', 'Free text'],\n      separator: '_',\n      isRequired: true,\n      example: 'Pond\\'s'\n    },\n\n    'Insertion Order': {\n      structure: [\n        'Market-Short-Name-(PCat)',\n        'Brand-Name',\n        'Campaign-Name-Campaign-CN-Code',\n        'Campaign-Type',\n        'Buy-Model',\n        'Objective',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: 'SKNCLN_Pond\\'s_Panacea-(Ponds)-CN002366_BrdPrecPerf_TrVAuc_awa'\n    },\n\n    'Line Item': {\n      structure: [\n        'Placement-Type',\n        'Audience-Name',\n        'Gender',\n        'Age-(lower-upper)',\n        'Device-Type',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: 'InStr_AdvSk_Ad_18+_MobTab'\n    },\n\n    'Ad group': {\n      structure: [\n        'Placement-Type',\n        'Audience-Party',\n        'Audience-Type',\n        'Audience-Name',\n        'Gender',\n        'Age-(lower-upper)',\n        'Device-Type',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: 'InStr_12pd-did_Demog_AdvSk_Ad_18+_MobTab'\n    },\n\n    'Creative/Ad': {\n      structure: [\n        'Creative-Name',\n        'Landing-Page-Type',\n        'Retailer',\n        'Format-Size',\n        'Influencer',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: 'Creative-Name_Retail_Costco_30s_IHAMP'\n    },\n\n    'Audience': {\n      structure: 'Free text',\n      separator: '_',\n      isRequired: false\n    }\n  },\n\n  fieldDefaults: {\n    campaignType: 'BrdPrecPerf',\n    buyModel: 'TrVAuc',\n    objective: 'awa',\n    placementType: 'InStr',\n    audienceParty: '12pd-did',\n    audienceType: 'Demog',\n    audienceName: 'AdvSk',\n    gender: 'Ad',\n    ageLower: 18,\n    ageUpper: 100,\n    deviceType: 'MobTab',\n    formatSize: '30s',\n    landingPageType: 'Retail',\n    isDefaulted: {},\n    validationErrors: []\n  }\n};\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AAIM,MAAM,eAA+B;IAC1C,cAAc;IACd,aAAa;IAEb,gBAAgB;QACd,WAAW;YACT,WAAW;YACX,WAAW;YACX,YAAY;QACd;QAEA,cAAc;YACZ,WAAW;gBAAC;gBAAgB;aAAY;YACxC,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,YAAY;YACV,WAAW;gBAAC;gBAAc;aAAY;YACtC,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,mBAAmB;YACjB,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,aAAa;YACX,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,YAAY;YACV,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,eAAe;YACb,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,YAAY;YACV,WAAW;YACX,WAAW;YACX,YAAY;QACd;IACF;IAEA,eAAe;QACb,cAAc;QACd,UAAU;QACV,WAAW;QACX,eAAe;QACf,eAAe;QACf,cAAc;QACd,cAAc;QACd,QAAQ;QACR,UAAU;QACV,UAAU;QACV,YAAY;QACZ,YAAY;QACZ,iBAAiB;QACjB,aAAa,CAAC;QACd,kBAAkB,EAAE;IACtB;AACF","debugId":null}},
    {"offset": {"line": 1506, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucusdato/Documents/Dev/ShortStaffed%20MediaTools/packages/web/core/taxonomy/platforms/tradedesk.config.ts"],"sourcesContent":["/**\n * TradeDesk Platform Configuration\n * Based on Accutics Unilever Field Name Strings\n */\n\nimport { PlatformConfig } from '../types';\n\nexport const TRADEDESK_CONFIG: PlatformConfig = {\n  platformName: 'TradeDesk',\n  displayName: 'TradeDesk',\n\n  taxonomyLevels: {\n    'Partner': {\n      structure: 'Free text',\n      separator: '_',\n      isRequired: false\n    },\n\n    'Advertiser': {\n      structure: ['Unilever', 'Country-Code', 'Free text'],\n      separator: '_',\n      isRequired: true,\n      example: 'Unilever_GB'\n    },\n\n    'Campaign': {\n      structure: [\n        'Market-Short-Name-(PCat)',\n        'Brand-Name',\n        'Campaign-Name-Campaign-CN-Code',\n        'Campaign-Type',\n        'Format-Type',\n        'Objective',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: 'SKNCLN_Pond\\'s_Panacea-(Ponds)-CN002366_BrdPrecPerf_Disp_cons'\n    },\n\n    'Adgroup': {\n      structure: [\n        'Buy-Model',\n        'Targeting-Strategy',\n        'Placement-Type',\n        'Audience-Party',\n        'Audience-Type',\n        'Audience-Name',\n        'Gender',\n        'Age-(lower-upper)',\n        'Device-Type',\n        'Trusted-Publisher',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: 'OMPPMP_CNT_InStream_3pd_None_AdvSk_Ad_18+_MobDesk_hrt'\n    },\n\n    'Creative': {\n      structure: [\n        'Campaign-Name-Campaign-CN-Code',\n        'Placement-Type',\n        'Format-Type',\n        'Format-Size',\n        'Creative-Name',\n        'Landing-Page-Type',\n        'Retailer',\n        'Trusted-Publisher',\n        'Influencer',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: 'Panacea-(Ponds)-CN002366_InStream_NatVid_30s_Creative-Name_Retail_Costco_prog_IHAMP'\n    },\n\n    'Audience': {\n      structure: 'Free Text',\n      separator: '_',\n      isRequired: false\n    }\n  },\n\n  fieldDefaults: {\n    campaignType: 'BrdPrecPerf',\n    buyModel: 'OMPPMP',\n    targetingStrategy: 'CNT',\n    objective: 'cons',\n    formatType: 'Disp',\n    placementType: 'InStream',\n    audienceParty: '3pd',\n    audienceType: 'None',\n    audienceName: 'AdvSk',\n    gender: 'Ad',\n    ageLower: 18,\n    ageUpper: 65,\n    deviceType: 'MobDesk',\n    formatSize: '30s',\n    landingPageType: 'Retail',\n    isDefaulted: {},\n    validationErrors: []\n  }\n};\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AAIM,MAAM,mBAAmC;IAC9C,cAAc;IACd,aAAa;IAEb,gBAAgB;QACd,WAAW;YACT,WAAW;YACX,WAAW;YACX,YAAY;QACd;QAEA,cAAc;YACZ,WAAW;gBAAC;gBAAY;gBAAgB;aAAY;YACpD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,YAAY;YACV,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,WAAW;YACT,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,YAAY;YACV,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,YAAY;YACV,WAAW;YACX,WAAW;YACX,YAAY;QACd;IACF;IAEA,eAAe;QACb,cAAc;QACd,UAAU;QACV,mBAAmB;QACnB,WAAW;QACX,YAAY;QACZ,eAAe;QACf,eAAe;QACf,cAAc;QACd,cAAc;QACd,QAAQ;QACR,UAAU;QACV,UAAU;QACV,YAAY;QACZ,YAAY;QACZ,iBAAiB;QACjB,aAAa,CAAC;QACd,kBAAkB,EAAE;IACtB;AACF","debugId":null}},
    {"offset": {"line": 1611, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucusdato/Documents/Dev/ShortStaffed%20MediaTools/packages/web/core/taxonomy/platforms/amazonDsp.config.ts"],"sourcesContent":["/**\n * Amazon DSP Platform Configuration\n * Based on Accutics Unilever Field Name Strings\n */\n\nimport { PlatformConfig } from '../types';\n\nexport const AMAZON_DSP_CONFIG: PlatformConfig = {\n  platformName: 'Amazon DSP',\n  displayName: 'Amazon DSP',\n\n  taxonomyLevels: {\n    'Entity': {\n      structure: 'Free Text',\n      separator: '_',\n      isRequired: false\n    },\n\n    'Advertiser': {\n      structure: ['Country-Code', 'Free text'],\n      separator: '_',\n      isRequired: true,\n      example: 'GB'\n    },\n\n    'Order': {\n      structure: [\n        'Market-Short-Name-(PCat)',\n        'Brand-Name',\n        'Campaign-Name-Campaign-CN-Code',\n        'Campaign-Type',\n        'Format-Type',\n        'Objective',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: 'SKNCLN_Pond\\'s_Panacea-(Ponds)-CN002366_BrdPrecPerf_Disp_conv'\n    },\n\n    'Line Item': {\n      structure: [\n        'Buy-Model',\n        'Targeting-Strategy',\n        'Placement-Type',\n        'Audience-Party',\n        'Audience-Type',\n        'Audience-Name',\n        'Gender',\n        'Age-(lower-upper)',\n        'Device-Type',\n        'Trusted-Publisher',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: 'PMP_AUD_DCODisp_1pd-diddad_Behav_AdvSk_Ad_18-44_Mob_cdn'\n    },\n\n    'Creative': {\n      structure: [\n        'Campaign-Name-Campaign-CN-Code',\n        'Placement-Type',\n        'Format-Type',\n        'Format-Size',\n        'Creative-Name',\n        'Landing-Page-Type',\n        'Retailer',\n        'Trusted-Publisher',\n        'Influencer',\n        'Product-Format',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: 'Panacea-(Ponds)-CN002366_InStream_NatVid_30s_Creative-Name_Retail_Costco_prog_IHAMP_privid'\n    },\n\n    'Audience': {\n      structure: 'Free Text',\n      separator: '_',\n      isRequired: false\n    }\n  },\n\n  fieldDefaults: {\n    campaignType: 'BrdPrecPerf',\n    buyModel: 'PMP',\n    targetingStrategy: 'AUD',\n    objective: 'conv',\n    formatType: 'Disp',\n    placementType: 'DCODisp',\n    audienceParty: '1pd-diddad',\n    audienceType: 'Behav',\n    audienceName: 'AdvSk',\n    gender: 'Ad',\n    ageLower: 18,\n    ageUpper: 44,\n    deviceType: 'Mob',\n    formatSize: '30s',\n    landingPageType: 'Retail',\n    productFormat: 'privid',\n    isDefaulted: {},\n    validationErrors: []\n  }\n};\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AAIM,MAAM,oBAAoC;IAC/C,cAAc;IACd,aAAa;IAEb,gBAAgB;QACd,UAAU;YACR,WAAW;YACX,WAAW;YACX,YAAY;QACd;QAEA,cAAc;YACZ,WAAW;gBAAC;gBAAgB;aAAY;YACxC,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,SAAS;YACP,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,aAAa;YACX,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,YAAY;YACV,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,YAAY;YACV,WAAW;YACX,WAAW;YACX,YAAY;QACd;IACF;IAEA,eAAe;QACb,cAAc;QACd,UAAU;QACV,mBAAmB;QACnB,WAAW;QACX,YAAY;QACZ,eAAe;QACf,eAAe;QACf,cAAc;QACd,cAAc;QACd,QAAQ;QACR,UAAU;QACV,UAAU;QACV,YAAY;QACZ,YAAY;QACZ,iBAAiB;QACjB,eAAe;QACf,aAAa,CAAC;QACd,kBAAkB,EAAE;IACtB;AACF","debugId":null}},
    {"offset": {"line": 1717, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucusdato/Documents/Dev/ShortStaffed%20MediaTools/packages/web/core/taxonomy/platforms/meta.config.ts"],"sourcesContent":["/**\n * Meta Platform Configuration\n * Based on Accutics Unilever Field Name Strings\n */\n\nimport { PlatformConfig } from '../types';\n\nexport const META_CONFIG: PlatformConfig = {\n  platformName: 'Meta',\n  displayName: 'Meta (Facebook/Instagram)',\n\n  taxonomyLevels: {\n    'Business Manager': {\n      structure: 'Free text',\n      separator: '_',\n      isRequired: false,\n      example: 'GB_UL'\n    },\n\n    'Account': {\n      structure: [\n        'Country-Code',\n        'Brand-Name',\n        'Collaborative-Account-Type',\n        'Retailer-Name',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: 'GB_Pond\\'s_Collab_Spar'\n    },\n\n    'Campaign': {\n      structure: [\n        'Market-Short-Name-(PCat)',\n        'Brand-Name',\n        'Campaign-Name-Campaign-CN-Code',\n        'Campaign-Type',\n        'Buy-Model',\n        'Collaborative-Ad',\n        'Objective',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: 'SKNCLN_Pond\\'s_Panacea-(Ponds)-CN002366_BrdPrecPerf_ReaFreq_collab_awa'\n    },\n\n    'Ad Set': {\n      structure: [\n        'Audience-Party',\n        'Audience-Type',\n        'Audience-Name',\n        'Gender',\n        'Age-(lower-upper)',\n        'Placement-Type',\n        'Device-Type',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: '12pd-diddad_LLike_AdvSk_Ad_13+_FeedStory_Mob'\n    },\n\n    'Ad': {\n      structure: [\n        'Creative-Name',\n        'Format-Type',\n        'Landing-Page-Type',\n        'Retailer',\n        'Format-Size',\n        'Influencer-Post-Type',\n        'Influencer',\n        '[Influencer-Handle]',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: 'Creative-Name_Carousel_Retail_Costco_20s_DARK_BSAY_[hygge_for_home]'\n    }\n  },\n\n  fieldDefaults: {\n    campaignType: 'BrdPrecPerf',\n    buyModel: 'ReaFreq',\n    objective: 'awa',\n    audienceParty: '12pd-diddad',\n    audienceType: 'LLike',\n    audienceName: 'AdvSk',\n    gender: 'Ad',\n    ageLower: 13,\n    ageUpper: 100,\n    placementType: 'FeedStory',\n    deviceType: 'Mob',\n    formatType: 'Carousel',\n    formatSize: '20s',\n    landingPageType: 'Retail',\n    collaborativeAd: 'collab',\n    isDefaulted: {},\n    validationErrors: []\n  }\n};\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AAIM,MAAM,cAA8B;IACzC,cAAc;IACd,aAAa;IAEb,gBAAgB;QACd,oBAAoB;YAClB,WAAW;YACX,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,WAAW;YACT,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,YAAY;YACV,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,UAAU;YACR,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,MAAM;YACJ,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;IACF;IAEA,eAAe;QACb,cAAc;QACd,UAAU;QACV,WAAW;QACX,eAAe;QACf,cAAc;QACd,cAAc;QACd,QAAQ;QACR,UAAU;QACV,UAAU;QACV,eAAe;QACf,YAAY;QACZ,YAAY;QACZ,YAAY;QACZ,iBAAiB;QACjB,iBAAiB;QACjB,aAAa,CAAC;QACd,kBAAkB,EAAE;IACtB;AACF","debugId":null}},
    {"offset": {"line": 1817, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucusdato/Documents/Dev/ShortStaffed%20MediaTools/packages/web/core/taxonomy/platforms/pinterest.config.ts"],"sourcesContent":["/**\n * Pinterest Platform Configuration\n * Based on Accutics Unilever Field Name Strings\n */\n\nimport { PlatformConfig } from '../types';\n\nexport const PINTEREST_CONFIG: PlatformConfig = {\n  platformName: 'Pinterest',\n  displayName: 'Pinterest',\n\n  taxonomyLevels: {\n    'Account': {\n      structure: ['Country-Code', 'Brand-Name', 'Free text'],\n      separator: '_',\n      isRequired: true,\n      example: 'GB_Pond\\'s'\n    },\n\n    'Campaign': {\n      structure: [\n        'Market-Short-Name-(PCat)',\n        'Brand-Name',\n        'Campaign-Name-Campaign-CN-Code',\n        'Campaign-Type',\n        'Buy-Model',\n        'Objective',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: 'SKNCLN_Pond\\'s_Panacea-(Ponds)-CN002366_BrdPrecPerf_ReaFreq_awa'\n    },\n\n    'AdGroup': {\n      structure: [\n        'Audience-Party',\n        'Audience-Type',\n        'Audience-Name',\n        'Gender',\n        'Age-(lower-upper)',\n        'Placement-Type',\n        'Device-Type',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: '12pd-diddad_LLike_AdvSk_Ad_13+_FeedStory_Mob'\n    },\n\n    'Ad': {\n      structure: [\n        'Creative-Name',\n        'Format-Type',\n        'Landing-Page-Type',\n        'Retailer',\n        'Format-Size',\n        'Influencer-Post-Type',\n        'Influencer',\n        '[Influencer-Handle]',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: 'Creative-Name_Carousel_Retail_Costco_20s_DARK_BSAY_[hygge_for_home]'\n    }\n  },\n\n  fieldDefaults: {\n    campaignType: 'BrdPrecPerf',\n    buyModel: 'ReaFreq',\n    objective: 'awa',\n    audienceParty: '12pd-diddad',\n    audienceType: 'LLike',\n    audienceName: 'AdvSk',\n    gender: 'Ad',\n    ageLower: 13,\n    ageUpper: 100,\n    placementType: 'FeedStory',\n    deviceType: 'Mob',\n    formatType: 'Carousel',\n    formatSize: '20s',\n    landingPageType: 'Retail',\n    isDefaulted: {},\n    validationErrors: []\n  }\n};\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AAIM,MAAM,mBAAmC;IAC9C,cAAc;IACd,aAAa;IAEb,gBAAgB;QACd,WAAW;YACT,WAAW;gBAAC;gBAAgB;gBAAc;aAAY;YACtD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,YAAY;YACV,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,WAAW;YACT,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,MAAM;YACJ,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;IACF;IAEA,eAAe;QACb,cAAc;QACd,UAAU;QACV,WAAW;QACX,eAAe;QACf,cAAc;QACd,cAAc;QACd,QAAQ;QACR,UAAU;QACV,UAAU;QACV,eAAe;QACf,YAAY;QACZ,YAAY;QACZ,YAAY;QACZ,iBAAiB;QACjB,aAAa,CAAC;QACd,kBAAkB,EAAE;IACtB;AACF","debugId":null}},
    {"offset": {"line": 1907, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucusdato/Documents/Dev/ShortStaffed%20MediaTools/packages/web/core/taxonomy/platforms/tiktok.config.ts"],"sourcesContent":["/**\n * TikTok Platform Configuration\n * Based on Accutics Unilever Field Name Strings\n */\n\nimport { PlatformConfig } from '../types';\n\nexport const TIKTOK_CONFIG: PlatformConfig = {\n  platformName: 'TikTok',\n  displayName: 'TikTok',\n\n  taxonomyLevels: {\n    'Business Manager': {\n      structure: ['Country-Code', 'UL', 'Free text'],\n      separator: '_',\n      isRequired: false,\n      example: 'GB_UL'\n    },\n\n    'Account': {\n      structure: ['Country-Code', 'Brand-Name', 'Buy-Model', 'Free text'],\n      separator: '_',\n      isRequired: true,\n      example: 'GB_Pond\\'s_Auc'\n    },\n\n    'Campaign': {\n      structure: [\n        'Market-Short-Name-(PCat)',\n        'Brand-Name',\n        'Campaign-Name-Campaign-CN-Code',\n        'Campaign-Type',\n        'Buy-Model',\n        'Objective',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: 'SKNCLN_Pond\\'s_Panacea-(Ponds)-CN002366_BrdPrecPerf_ReaFreq_awa'\n    },\n\n    'AdGroup': {\n      structure: [\n        'Audience-Party',\n        'Audience-Type',\n        'Audience-Name',\n        'Gender',\n        'Age-(lower-upper)',\n        'Placement-Type',\n        'Device-Type',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: '12pd-diddad_LLike_AdvSk_Ad_13+_FeedStory_Mob'\n    },\n\n    'Ad': {\n      structure: [\n        'Creative-Name',\n        'Format-Type',\n        'Landing-Page-Type',\n        'Retailer',\n        'Format-Size',\n        'Add-On',\n        'Influencer-Post-Type',\n        'Influencer',\n        '[Influencer-Handle]',\n        'Creative-Exchange',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: 'Creative-Name_Carousel_Retail_Costco_20s_DARK_BSAY_[hygge_for_home]_CE'\n    }\n  },\n\n  fieldDefaults: {\n    campaignType: 'BrdPrecPerf',\n    buyModel: 'Auc',\n    objective: 'awa',\n    audienceParty: '12pd-diddad',\n    audienceType: 'LLike',\n    audienceName: 'AdvSk',\n    gender: 'Ad',\n    ageLower: 13,\n    ageUpper: 100,\n    placementType: 'FeedStory',\n    deviceType: 'Mob',\n    formatType: 'Carousel',\n    formatSize: '20s',\n    landingPageType: 'Retail',\n    creativeExchange: 'CE',\n    isDefaulted: {},\n    validationErrors: []\n  }\n};\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AAIM,MAAM,gBAAgC;IAC3C,cAAc;IACd,aAAa;IAEb,gBAAgB;QACd,oBAAoB;YAClB,WAAW;gBAAC;gBAAgB;gBAAM;aAAY;YAC9C,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,WAAW;YACT,WAAW;gBAAC;gBAAgB;gBAAc;gBAAa;aAAY;YACnE,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,YAAY;YACV,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,WAAW;YACT,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,MAAM;YACJ,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;IACF;IAEA,eAAe;QACb,cAAc;QACd,UAAU;QACV,WAAW;QACX,eAAe;QACf,cAAc;QACd,cAAc;QACd,QAAQ;QACR,UAAU;QACV,UAAU;QACV,eAAe;QACf,YAAY;QACZ,YAAY;QACZ,YAAY;QACZ,iBAAiB;QACjB,kBAAkB;QAClB,aAAa,CAAC;QACd,kBAAkB,EAAE;IACtB;AACF","debugId":null}},
    {"offset": {"line": 2011, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucusdato/Documents/Dev/ShortStaffed%20MediaTools/packages/web/core/taxonomy/platforms/snapchat.config.ts"],"sourcesContent":["/**\n * Snapchat Platform Configuration\n * Based on Accutics Unilever Field Name Strings\n */\n\nimport { PlatformConfig } from '../types';\n\nexport const SNAPCHAT_CONFIG: PlatformConfig = {\n  platformName: 'Snapchat',\n  displayName: 'Snapchat',\n\n  taxonomyLevels: {\n    'Account': {\n      structure: ['Country-Code', 'Brand-Name', 'Free text'],\n      separator: '_',\n      isRequired: true,\n      example: 'GB_Pond\\'s'\n    },\n\n    'Campaign': {\n      structure: [\n        'Market-Short-Name-(PCat)',\n        'Brand-Name',\n        'Campaign-Name-Campaign-CN-Code',\n        'Campaign-Type',\n        'Buy-Model',\n        'Objective',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: 'SKNCLN_Pond\\'s_Panacea-(Ponds)-CN002366_BrdPrecPerf_ReaFreq_awa'\n    },\n\n    'AdGroup': {\n      structure: [\n        'Audience-Party',\n        'Audience-Type',\n        'Audience-Name',\n        'Gender',\n        'Age-(lower-upper)',\n        'Placement-Type',\n        'Device-Type',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: '12pd-diddad_LLike_AdvSk_Ad_13+_FeedStory_Mob'\n    },\n\n    'Ad': {\n      structure: [\n        'Creative-Name',\n        'Format-Type',\n        'Landing-Page-Type',\n        'Retailer',\n        'Format-Size',\n        'Influencer-Post-Type',\n        'Influencer',\n        '[Influencer-Handle]',\n        'Free text'\n      ],\n      separator: '_',\n      isRequired: true,\n      example: 'Creative-Name_Carousel_Retail_Costco_20s_DARK_BSAY_[hygge_for_home]'\n    }\n  },\n\n  fieldDefaults: {\n    campaignType: 'BrdPrecPerf',\n    buyModel: 'ReaFreq',\n    objective: 'awa',\n    audienceParty: '12pd-diddad',\n    audienceType: 'LLike',\n    audienceName: 'AdvSk',\n    gender: 'Ad',\n    ageLower: 13,\n    ageUpper: 100,\n    placementType: 'FeedStory',\n    deviceType: 'Mob',\n    formatType: 'Carousel',\n    formatSize: '20s',\n    landingPageType: 'Retail',\n    isDefaulted: {},\n    validationErrors: []\n  }\n};\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AAIM,MAAM,kBAAkC;IAC7C,cAAc;IACd,aAAa;IAEb,gBAAgB;QACd,WAAW;YACT,WAAW;gBAAC;gBAAgB;gBAAc;aAAY;YACtD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,YAAY;YACV,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,WAAW;YACT,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;QAEA,MAAM;YACJ,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;YACX,YAAY;YACZ,SAAS;QACX;IACF;IAEA,eAAe;QACb,cAAc;QACd,UAAU;QACV,WAAW;QACX,eAAe;QACf,cAAc;QACd,cAAc;QACd,QAAQ;QACR,UAAU;QACV,UAAU;QACV,eAAe;QACf,YAAY;QACZ,YAAY;QACZ,YAAY;QACZ,iBAAiB;QACjB,aAAa,CAAC;QACd,kBAAkB,EAAE;IACtB;AACF","debugId":null}},
    {"offset": {"line": 2101, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucusdato/Documents/Dev/ShortStaffed%20MediaTools/packages/web/core/taxonomy/platforms/index.ts"],"sourcesContent":["/**\n * Platform Registry\n * Centralized access to all platform configurations\n */\n\nimport { PlatformConfig } from '../types';\nimport { DV360_CONFIG } from './dv360.config';\nimport { TRADEDESK_CONFIG } from './tradedesk.config';\nimport { AMAZON_DSP_CONFIG } from './amazonDsp.config';\nimport { META_CONFIG } from './meta.config';\nimport { PINTEREST_CONFIG } from './pinterest.config';\nimport { TIKTOK_CONFIG } from './tiktok.config';\nimport { SNAPCHAT_CONFIG } from './snapchat.config';\n\nexport const PLATFORM_CONFIGS: { [platformName: string]: PlatformConfig } = {\n  'DV360': DV360_CONFIG,\n  'TradeDesk': TRADEDESK_CONFIG,\n  'Amazon DSP': AMAZON_DSP_CONFIG,\n  'Meta': META_CONFIG,\n  'Pinterest': PINTEREST_CONFIG,\n  'TikTok': TIKTOK_CONFIG,\n  'Snapchat': SNAPCHAT_CONFIG\n};\n\n/**\n * Get platform configuration by name\n */\nexport function getPlatformConfig(platformName: string): PlatformConfig | null {\n  return PLATFORM_CONFIGS[platformName] || null;\n}\n\n/**\n * Get list of all supported platforms\n */\nexport function getSupportedPlatforms(): string[] {\n  return Object.keys(PLATFORM_CONFIGS);\n}\n\n/**\n * Detect platform from various name formats\n * Handles variations like \"tradedesk\", \"TradeDesk\", \"The Trade Desk\", etc.\n */\nexport function normalizePlatformName(rawPlatformName: string): string | null {\n  const normalized = rawPlatformName.toLowerCase().trim();\n\n  // Platform name mappings\n  const platformMappings: { [key: string]: string } = {\n    'tradedesk': 'TradeDesk',\n    'the trade desk': 'TradeDesk',\n    'ttd': 'TradeDesk',\n\n    'dv360': 'DV360',\n    'displayvideo': 'DV360',\n    'display & video 360': 'DV360',\n    'youtube': 'DV360',\n    'trueview': 'DV360',\n\n    'amazon dsp': 'Amazon DSP',\n    'amazon': 'Amazon DSP',\n    'amazondsp': 'Amazon DSP',\n\n    'meta': 'Meta',\n    'facebook': 'Meta',\n    'fb': 'Meta',\n    'instagram': 'Meta',\n    'ig': 'Meta',\n\n    'pinterest': 'Pinterest',\n    'pin': 'Pinterest',\n\n    'tiktok': 'TikTok',\n    'tik tok': 'TikTok',\n\n    'snapchat': 'Snapchat',\n    'snap': 'Snapchat'\n  };\n\n  return platformMappings[normalized] || null;\n}\n\nexport { DV360_CONFIG, TRADEDESK_CONFIG, AMAZON_DSP_CONFIG, META_CONFIG, PINTEREST_CONFIG, TIKTOK_CONFIG, SNAPCHAT_CONFIG };\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAEO,MAAM,mBAA+D;IAC1E,SAAS,mLAAY;IACrB,aAAa,2LAAgB;IAC7B,cAAc,4LAAiB;IAC/B,QAAQ,iLAAW;IACnB,aAAa,2LAAgB;IAC7B,UAAU,qLAAa;IACvB,YAAY,yLAAe;AAC7B;AAKO,SAAS,kBAAkB,YAAoB;IACpD,OAAO,gBAAgB,CAAC,aAAa,IAAI;AAC3C;AAKO,SAAS;IACd,OAAO,OAAO,IAAI,CAAC;AACrB;AAMO,SAAS,sBAAsB,eAAuB;IAC3D,MAAM,aAAa,gBAAgB,WAAW,GAAG,IAAI;IAErD,yBAAyB;IACzB,MAAM,mBAA8C;QAClD,aAAa;QACb,kBAAkB;QAClB,OAAO;QAEP,SAAS;QACT,gBAAgB;QAChB,uBAAuB;QACvB,WAAW;QACX,YAAY;QAEZ,cAAc;QACd,UAAU;QACV,aAAa;QAEb,QAAQ;QACR,YAAY;QACZ,MAAM;QACN,aAAa;QACb,MAAM;QAEN,aAAa;QACb,OAAO;QAEP,UAAU;QACV,WAAW;QAEX,YAAY;QACZ,QAAQ;IACV;IAEA,OAAO,gBAAgB,CAAC,WAAW,IAAI;AACzC","debugId":null}},
    {"offset": {"line": 2177, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucusdato/Documents/Dev/ShortStaffed%20MediaTools/packages/web/core/taxonomy/taxonomyGenerator.ts"],"sourcesContent":["/**\n * Taxonomy Generator - Creates UNCC-compliant taxonomy strings\n * for all supported platforms\n */\n\nimport { TaxonomyInputData, GeneratedTaxonomy, TaxonomyLevel } from './types';\nimport { getPlatformConfig } from './platforms';\n\n/**\n * Generate all taxonomy levels for a given platform\n */\nexport function generateTaxonomies(inputData: TaxonomyInputData): GeneratedTaxonomy[] {\n  const platformConfig = getPlatformConfig(inputData.platform);\n\n  if (!platformConfig) {\n    return [{\n      platform: inputData.platform,\n      platformFieldName: 'Unknown',\n      taxonomyString: '',\n      validationErrors: [`Unknown platform: ${inputData.platform}`]\n    }];\n  }\n\n  const taxonomies: GeneratedTaxonomy[] = [];\n\n  for (const [levelName, levelConfig] of Object.entries(platformConfig.taxonomyLevels)) {\n    const taxonomyString = buildTaxonomyString(inputData, levelConfig);\n    const validationErrors = validateTaxonomyLevel(taxonomyString, levelConfig, levelName);\n\n    taxonomies.push({\n      platform: inputData.platform,\n      platformFieldName: levelName,\n      taxonomyString,\n      validationErrors\n    });\n  }\n\n  return taxonomies;\n}\n\n/**\n * Build taxonomy string for a specific level\n */\nexport function buildTaxonomyString(\n  inputData: TaxonomyInputData,\n  levelConfig: TaxonomyLevel\n): string {\n  // Handle free text levels\n  if (levelConfig.structure === 'Free text' || levelConfig.structure === 'Free Text') {\n    return inputData.freeText || '';\n  }\n\n  // Handle structured levels\n  if (Array.isArray(levelConfig.structure)) {\n    const parts: string[] = [];\n    const separator = levelConfig.separator || '_';\n\n    for (const fieldToken of levelConfig.structure) {\n      const value = resolveFieldToken(fieldToken, inputData);\n\n      // Only add non-empty values\n      if (value && value !== '') {\n        parts.push(value);\n      }\n    }\n\n    return parts.join(separator);\n  }\n\n  return '';\n}\n\n/**\n * Resolve a field token to its actual value\n * Tokens are like: \"Market-Short-Name-(PCat)\", \"Brand-Name\", \"Campaign-Name-Campaign-CN-Code\"\n */\nexport function resolveFieldToken(token: string, inputData: TaxonomyInputData): string {\n  // Hardcoded value: \"Unilever\"\n  if (token === 'Unilever') {\n    return 'Unilever';\n  }\n\n  // Hardcoded value: \"UL\"\n  if (token === 'UL') {\n    return 'UL';\n  }\n\n  // Simple field mappings\n  const tokenMap: { [token: string]: string | undefined } = {\n    'Market-Short-Name-(PCat)': inputData.marketName,\n    'Brand-Name': inputData.brandName,\n    'Campaign-Name': inputData.campaignName,\n    'Campaign-CN-Code': inputData.cnCode,\n    'Country-Code': inputData.countryCode,\n\n    // Campaign Level\n    'Campaign-Type': inputData.campaignType,\n    'Format-Type': inputData.formatType,\n    'Objective': inputData.objective,\n\n    // Line Item/Ad Group Level\n    'Buy-Model': inputData.buyModel,\n    'Targeting-Strategy': inputData.targetingStrategy,\n    'Placement-Type': inputData.placementType,\n    'Audience-Party': inputData.audienceParty,\n    'Audience-Type': inputData.audienceType,\n    'Audience-Name': inputData.audienceName,\n    'Gender': inputData.gender,\n    'Device-Type': inputData.deviceType,\n    'Trusted-Publisher': inputData.trustedPublisher,\n\n    // Creative Level\n    'Format-Size': inputData.formatSize,\n    'Creative-Name': inputData.creativeName,\n    'Landing-Page-Type': inputData.landingPageType,\n    'Retailer': inputData.retailer,\n    'Retailer-Name': inputData.retailer,\n    'Influencer': inputData.influencer,\n    '[Influencer-Handle]': inputData.influencerHandle,\n    'Influencer-Post-Type': inputData.influencerPostType,\n\n    // Platform-Specific\n    'Collaborative-Account-Type': inputData.collaborativeAccountType,\n    'Collaborative-Ad': inputData.collaborativeAd,\n    'Product-Format': inputData.productFormat,\n    'Creative-Exchange': inputData.creativeExchange,\n    'Add-On': inputData.addOn,\n\n    // Free text\n    'Free text': inputData.freeText,\n    'Free Text': inputData.freeText\n  };\n\n  // Compound tokens\n  if (token === 'Campaign-Name-Campaign-CN-Code') {\n    if (inputData.campaignName && inputData.cnCode) {\n      return `${inputData.campaignName}-${inputData.cnCode}`;\n    }\n    return '';\n  }\n\n  if (token === 'Age-(lower-upper)') {\n    if (inputData.ageLower !== undefined && inputData.ageUpper !== undefined) {\n      // Format as \"18-65\" or \"18+\" if upper is 100\n      if (inputData.ageUpper === 100 || inputData.ageUpper >= 100) {\n        return `${inputData.ageLower}+`;\n      }\n      return `${inputData.ageLower}-${inputData.ageUpper}`;\n    }\n    return '';\n  }\n\n  // Return mapped value or empty string\n  return tokenMap[token] || '';\n}\n\n/**\n * Validate a taxonomy level\n */\nexport function validateTaxonomyLevel(\n  taxonomyString: string,\n  levelConfig: TaxonomyLevel,\n  levelName: string\n): string[] {\n  const errors: string[] = [];\n\n  // Check if required level is empty\n  if (levelConfig.isRequired && (!taxonomyString || taxonomyString.trim() === '')) {\n    errors.push(`${levelName} is required but generated empty taxonomy`);\n  }\n\n  // Check for placeholder values that weren't filled\n  if (taxonomyString.includes('undefined') || taxonomyString.includes('null')) {\n    errors.push(`${levelName} contains undefined/null values`);\n  }\n\n  // Check for consecutive separators (indicates missing fields)\n  if (taxonomyString.includes('__')) {\n    errors.push(`${levelName} has missing fields (consecutive separators)`);\n  }\n\n  // Check for leading/trailing separators\n  if (taxonomyString.startsWith('_') || taxonomyString.endsWith('_')) {\n    errors.push(`${levelName} has leading or trailing separators`);\n  }\n\n  return errors;\n}\n\n/**\n * Validate all input data for taxonomy generation\n */\nexport function validateInputData(inputData: TaxonomyInputData): string[] {\n  const errors: string[] = [];\n\n  // Required user metadata\n  if (!inputData.cnCode || inputData.cnCode.trim() === '') {\n    errors.push('CN Code is required');\n  }\n\n  if (!inputData.marketName || inputData.marketName.trim() === '') {\n    errors.push('Market Name (PCat) is required');\n  }\n\n  if (!inputData.countryCode || inputData.countryCode.trim() === '') {\n    errors.push('Country Code is required');\n  }\n\n  if (!inputData.brandName || inputData.brandName.trim() === '') {\n    errors.push('Brand Name is required');\n  }\n\n  if (!inputData.campaignName || inputData.campaignName.trim() === '') {\n    errors.push('Campaign Name is required');\n  }\n\n  // Platform detection\n  if (!inputData.platform || inputData.platform.trim() === '') {\n    errors.push('Platform must be detected or specified');\n  }\n\n  // Campaign level required fields\n  if (!inputData.campaignType || inputData.campaignType.trim() === '') {\n    errors.push('Campaign Type is required');\n  }\n\n  if (!inputData.formatType || inputData.formatType.trim() === '') {\n    errors.push('Format Type is required');\n  }\n\n  if (!inputData.objective || inputData.objective.trim() === '') {\n    errors.push('Objective is required');\n  }\n\n  // Line item level required fields\n  if (!inputData.buyModel || inputData.buyModel.trim() === '') {\n    errors.push('Buy Model is required');\n  }\n\n  if (!inputData.placementType || inputData.placementType.trim() === '') {\n    errors.push('Placement Type is required');\n  }\n\n  if (!inputData.audienceParty || inputData.audienceParty.trim() === '') {\n    errors.push('Audience Party is required');\n  }\n\n  if (!inputData.audienceType || inputData.audienceType.trim() === '') {\n    errors.push('Audience Type is required');\n  }\n\n  if (!inputData.audienceName || inputData.audienceName.trim() === '') {\n    errors.push('Audience Name is required');\n  }\n\n  if (!inputData.gender || inputData.gender.trim() === '') {\n    errors.push('Gender is required');\n  }\n\n  if (inputData.ageLower === undefined || inputData.ageLower === null) {\n    errors.push('Age Lower Bound is required');\n  } else if (inputData.ageLower < 13) {\n    errors.push('Age Lower Bound must be at least 13');\n  }\n\n  if (inputData.ageUpper === undefined || inputData.ageUpper === null) {\n    errors.push('Age Upper Bound is required');\n  } else if (inputData.ageUpper > 100) {\n    errors.push('Age Upper Bound cannot exceed 100');\n  }\n\n  if (inputData.ageLower !== undefined && inputData.ageUpper !== undefined && inputData.ageLower >= inputData.ageUpper) {\n    errors.push('Age Upper Bound must be greater than Age Lower Bound');\n  }\n\n  if (!inputData.deviceType || inputData.deviceType.trim() === '') {\n    errors.push('Device Type is required');\n  }\n\n  // Creative level required fields\n  if (!inputData.formatSize || inputData.formatSize.trim() === '') {\n    errors.push('Format Size is required');\n  }\n\n  if (!inputData.creativeName || inputData.creativeName.trim() === '') {\n    errors.push('Creative Name is required');\n  }\n\n  if (!inputData.landingPageType || inputData.landingPageType.trim() === '') {\n    errors.push('Landing Page Type is required');\n  }\n\n  // Conditional: Retailer required if Landing Page Type is \"Retail\"\n  if (inputData.landingPageType === 'Retail' && (!inputData.retailer || inputData.retailer.trim() === '')) {\n    errors.push('Retailer is required when Landing Page Type is \"Retail\"');\n  }\n\n  return errors;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2417, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucusdato/Documents/Dev/ShortStaffed%20MediaTools/packages/web/core/analytics/brandDirectory.ts"],"sourcesContent":["/**\n * Brand Directory\n *\n * Centralized list of brand names for automatic detection from filenames.\n * This makes it easy to identify which brand a file belongs to without manual input.\n *\n * To add new brands:\n * 1. Add the brand name to the BRANDS array\n * 2. Save the file - changes take effect immediately\n *\n * Brand detection is case-insensitive and works by searching filenames\n * for any of these brand names.\n */\n\nexport const BRANDS = [\n  // ============================================================================\n  // UNILEVER BRANDS\n  // ============================================================================\n\n  // Food & Wellbeing\n  \"Knorr\",\n  \"Hellmann's\",\n  \"UFS\",\n  \"Ben & Jerry's\",\n  \"Breyers\",\n  \"Magnum\",\n  \"Liquid IV\",\n  \"OLLY\",\n\n  // Personal Care\n  \"Dove Deo\",\n  \"Axe Deo\",\n  \"DMC Deo\",\n  \"Degree\",\n  \"Vaseline\",\n  \"TRESemmÃ©\",\n  \"OLLY Skin Cleansing\",\n\n  // Beauty\n  \"TRESemmÃ©\",\n  \"Dove Hair\",\n  \"Shea Hair\",\n  \"Nexxus\",\n  \"DMC Hair\",\n\n  // Add more brands below as needed\n  // Example:\n  // \"Brand Name\",\n];\n\n/**\n * Extract brand name from a filename\n *\n * Searches the filename for any known brand names (case-insensitive).\n * Returns the first match found, or null if no brand is detected.\n *\n * @param filename - The filename to search (e.g., \"Knorr_Campaign_2024.xlsx\")\n * @returns The detected brand name (original casing from BRANDS array), or null\n *\n * @example\n * extractBrandFromFilename(\"Knorr_Campaign_2024.xlsx\") // \"Knorr\"\n * extractBrandFromFilename(\"dove-blocking-chart.xlsx\") // \"Dove\"\n * extractBrandFromFilename(\"random_file.xlsx\") // null\n */\nexport function extractBrandFromFilename(filename: string): string | null {\n  const filenameLower = filename.toLowerCase();\n\n  // Search for each brand name in the filename\n  for (const brand of BRANDS) {\n    const brandLower = brand.toLowerCase();\n\n    // Check if the brand name appears in the filename\n    if (filenameLower.includes(brandLower)) {\n      return brand; // Return the brand with original casing\n    }\n  }\n\n  return null; // No brand detected\n}\n\n/**\n * Check if a filename contains a specific brand\n *\n * @param filename - The filename to check\n * @param brandName - The brand name to look for\n * @returns true if the brand is found in the filename (case-insensitive)\n *\n * @example\n * containsBrand(\"Knorr_Campaign.xlsx\", \"Knorr\") // true\n * containsBrand(\"knorr_campaign.xlsx\", \"Knorr\") // true\n * containsBrand(\"dove_file.xlsx\", \"Knorr\") // false\n */\nexport function containsBrand(filename: string, brandName: string): boolean {\n  return filename.toLowerCase().includes(brandName.toLowerCase());\n}\n\n/**\n * Get all brands sorted alphabetically\n *\n * @returns Array of all brand names sorted A-Z\n */\nexport function getAllBrands(): string[] {\n  return [...BRANDS].sort();\n}\n\n/**\n * Search for brands matching a query\n *\n * @param query - Search term (case-insensitive)\n * @returns Array of brands matching the query\n *\n * @example\n * searchBrands(\"dove\") // [\"Dove\"]\n * searchBrands(\"sun\") // [\"Sunsilk\", \"Sunlight\"]\n */\nexport function searchBrands(query: string): string[] {\n  const queryLower = query.toLowerCase();\n  return BRANDS.filter(brand =>\n    brand.toLowerCase().includes(queryLower)\n  );\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;CAYC;;;;;;;;;;;;AAEM,MAAM,SAAS;IACpB,+EAA+E;IAC/E,kBAAkB;IAClB,+EAA+E;IAE/E,mBAAmB;IACnB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA,gBAAgB;IAChB;IACA;IACA;IACA;IACA;IACA;IACA;IAEA,SAAS;IACT;IACA;IACA;IACA;IACA;CAKD;AAgBM,SAAS,yBAAyB,QAAgB;IACvD,MAAM,gBAAgB,SAAS,WAAW;IAE1C,6CAA6C;IAC7C,KAAK,MAAM,SAAS,OAAQ;QAC1B,MAAM,aAAa,MAAM,WAAW;QAEpC,kDAAkD;QAClD,IAAI,cAAc,QAAQ,CAAC,aAAa;YACtC,OAAO,OAAO,wCAAwC;QACxD;IACF;IAEA,OAAO,MAAM,oBAAoB;AACnC;AAcO,SAAS,cAAc,QAAgB,EAAE,SAAiB;IAC/D,OAAO,SAAS,WAAW,GAAG,QAAQ,CAAC,UAAU,WAAW;AAC9D;AAOO,SAAS;IACd,OAAO;WAAI;KAAO,CAAC,IAAI;AACzB;AAYO,SAAS,aAAa,KAAa;IACxC,MAAM,aAAa,MAAM,WAAW;IACpC,OAAO,OAAO,MAAM,CAAC,CAAA,QACnB,MAAM,WAAW,GAAG,QAAQ,CAAC;AAEjC","debugId":null}},
    {"offset": {"line": 2497, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucusdato/Documents/Dev/ShortStaffed%20MediaTools/packages/web/core/analytics/tracker.ts"],"sourcesContent":["/**\n * Analytics Tracker\n *\n * Client-side utilities for tracking user actions and file uploads.\n * All tracking is done asynchronously and won't block the UI.\n */\n\nimport { getUserIdentity, getSessionId } from './localStorage';\nimport { extractBrandFromFilename } from './brandDirectory';\nimport {\n  ToolName,\n  ActionType,\n  TrackEventRequest,\n  TrackFileUploadRequest,\n} from './types';\n\n// ============================================================================\n// Track Event\n// ============================================================================\n\nexport async function trackEvent(\n  toolName: ToolName,\n  action: ActionType,\n  metadata?: Record<string, any>\n): Promise<boolean> {\n  try {\n    const identity = getUserIdentity();\n    if (!identity) {\n      console.warn('Cannot track event: User not identified');\n      return false;\n    }\n\n    const sessionId = getSessionId();\n\n    const payload: TrackEventRequest = {\n      user_id: identity.userId,\n      session_id: sessionId,\n      tool_name: toolName,\n      action,\n      metadata,\n    };\n\n    const response = await fetch('/api/analytics/track', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(payload),\n    });\n\n    if (!response.ok) {\n      throw new Error(`Tracking failed: ${response.statusText}`);\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Failed to track event:', error);\n    return false;\n  }\n}\n\n// ============================================================================\n// Track File Upload\n// ============================================================================\n\nexport async function trackFileUpload(\n  toolName: ToolName,\n  file: File,\n  metadata?: {\n    campaign_name?: string;\n    brand_name?: string;\n    cn_code?: string;\n    row_count?: number;\n  }\n): Promise<boolean> {\n  try {\n    const identity = getUserIdentity();\n    if (!identity) {\n      console.warn('Cannot track file upload: User not identified');\n      return false;\n    }\n\n    // Auto-detect brand name from filename if not provided\n    const detectedBrand = metadata?.brand_name || extractBrandFromFilename(file.name);\n\n    if (detectedBrand) {\n      console.log(`ðŸ·ï¸  Brand detected from filename: ${detectedBrand}`);\n    }\n\n    const payload: TrackFileUploadRequest = {\n      user_id: identity.userId,\n      tool_name: toolName,\n      filename: file.name,\n      file_size: file.size,\n      file_type: file.name.split('.').pop() || 'unknown',\n      ...metadata,\n      brand_name: detectedBrand || metadata?.brand_name, // Use detected brand if available\n    };\n\n    const response = await fetch('/api/analytics/track-upload', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(payload),\n    });\n\n    if (!response.ok) {\n      throw new Error(`File upload tracking failed: ${response.statusText}`);\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Failed to track file upload:', error);\n    return false;\n  }\n}\n\n// ============================================================================\n// Track Page View\n// ============================================================================\n\nexport async function trackPageView(toolName: ToolName): Promise<boolean> {\n  return trackEvent(toolName, 'page_view');\n}\n\n// ============================================================================\n// Track Error\n// ============================================================================\n\nexport async function trackError(\n  toolName: ToolName,\n  errorMessage: string,\n  errorContext?: {\n    filename?: string;\n    errorType?: string;\n    step?: string;\n    stackTrace?: string;\n  }\n): Promise<boolean> {\n  try {\n    const identity = getUserIdentity();\n    if (!identity) {\n      console.warn('Cannot track error: User not identified');\n      return false;\n    }\n\n    const metadata = {\n      error_message: errorMessage,\n      error_type: errorContext?.errorType || 'unknown_error',\n      filename: errorContext?.filename,\n      step: errorContext?.step,\n      stack_trace: errorContext?.stackTrace,\n      timestamp: new Date().toISOString(),\n    };\n\n    console.error(`âŒ Error tracked: ${errorMessage}`, metadata);\n\n    return trackEvent(toolName, 'error', metadata);\n  } catch (error) {\n    console.error('Failed to track error:', error);\n    return false;\n  }\n}\n\n// ============================================================================\n// Convenience Tracking Functions\n// ============================================================================\n\nexport const Analytics = {\n  // Traffic Sheet Automation\n  trafficSheetFileUpload: (file: File) =>\n    trackFileUpload('Traffic Sheet Automation', file),\n  trafficSheetPreview: () =>\n    trackEvent('Traffic Sheet Automation', 'preview_data'),\n  trafficSheetGenerate: () =>\n    trackEvent('Traffic Sheet Automation', 'generate'),\n  trafficSheetDownload: () =>\n    trackEvent('Traffic Sheet Automation', 'download'),\n  trafficSheetError: (errorMessage: string, filename?: string, errorType?: string) =>\n    trackError('Traffic Sheet Automation', errorMessage, { filename, errorType }),\n\n  // Taxonomy Generator\n  taxonomyMetadataSubmit: (metadata: {\n    campaign_name?: string;\n    brand_name?: string;\n    cn_code?: string;\n  }) =>\n    trackEvent('Taxonomy Generator', 'metadata_submit', metadata),\n  taxonomyFileUpload: (\n    file: File,\n    metadata?: {\n      campaign_name?: string;\n      brand_name?: string;\n      cn_code?: string;\n    }\n  ) => trackFileUpload('Taxonomy Generator', file, metadata),\n  taxonomyGenerate: (rowCount?: number) =>\n    trackEvent('Taxonomy Generator', 'generate', { row_count: rowCount }),\n  taxonomyExport: (format: string) =>\n    trackEvent('Taxonomy Generator', 'export', { format }),\n  taxonomyCopyTSV: () =>\n    trackEvent('Taxonomy Generator', 'copy_tsv'),\n  taxonomyError: (errorMessage: string, filename?: string, errorType?: string) =>\n    trackError('Taxonomy Generator', errorMessage, { filename, errorType }),\n\n  // Home Page\n  homePageView: () => trackPageView('Home Page'),\n\n  // Generic\n  trackEvent,\n  trackFileUpload,\n  trackPageView,\n  trackError,\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2647, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucusdato/Documents/Dev/ShortStaffed%20MediaTools/packages/web/app/apps/taxonomy-generator/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport FileUpload from \"@/core/ui/FileUpload\";\nimport Button from \"@/core/ui/Button\";\nimport Header from \"@/core/ui/Header\";\nimport { TaxonomyRow, UserMetadata } from \"@/core/taxonomy/types\";\nimport { generateTaxonomies } from \"@/core/taxonomy/taxonomyGenerator\";\nimport { Analytics } from \"@/core/analytics/tracker\";\nimport { extractBrandFromFilename } from \"@/core/analytics/brandDirectory\";\n\ntype Step = \"metadata\" | \"upload\" | \"preview\";\n\nexport default function TaxonomyGenerator() {\n  const [currentStep, setCurrentStep] = useState<Step>(\"metadata\");\n  const [userMetadata, setUserMetadata] = useState<UserMetadata>({\n    cnCode: \"\",\n    marketName: \"\",\n    countryCode: \"GB\",\n    brandName: \"\",\n    campaignName: \"\"\n  });\n\n  const [blockingChartFile, setBlockingChartFile] = useState<File | null>(null);\n  const [trafficSheetFile, setTrafficSheetFile] = useState<File | null>(null);\n\n  // Wrapper functions for file selection\n  const handleBlockingChartSelect = (file: File) => {\n    setBlockingChartFile(file);\n\n    // Auto-detect brand from filename if not already set\n    if (!userMetadata.brandName) {\n      const detectedBrand = extractBrandFromFilename(file.name);\n      if (detectedBrand) {\n        console.log(`ðŸ·ï¸  Auto-populated brand: ${detectedBrand}`);\n        setUserMetadata(prev => ({ ...prev, brandName: detectedBrand }));\n      }\n    }\n  };\n\n  const handleTrafficSheetSelect = (file: File) => {\n    setTrafficSheetFile(file);\n\n    // Auto-detect brand from filename if not already set\n    if (!userMetadata.brandName) {\n      const detectedBrand = extractBrandFromFilename(file.name);\n      if (detectedBrand) {\n        console.log(`ðŸ·ï¸  Auto-populated brand: ${detectedBrand}`);\n        setUserMetadata(prev => ({ ...prev, brandName: detectedBrand }));\n      }\n    }\n  };\n  const [taxonomyRows, setTaxonomyRows] = useState<TaxonomyRow[]>([]);\n  const [platformBreakdown, setPlatformBreakdown] = useState<{ [platform: string]: number }>({});\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // Track page view on mount\n  useEffect(() => {\n    Analytics.trackPageView(\"Taxonomy Generator\");\n  }, []);\n\n  // Step 1: Submit metadata\n  const handleMetadataSubmit = () => {\n    // Validate metadata\n    if (!userMetadata.cnCode || !userMetadata.marketName ||\n        !userMetadata.countryCode || !userMetadata.brandName || !userMetadata.campaignName) {\n      setError(\"All metadata fields are required\");\n      return;\n    }\n    setError(null);\n\n    // Track metadata submission\n    Analytics.taxonomyMetadataSubmit({\n      campaign_name: userMetadata.campaignName,\n      brand_name: userMetadata.brandName,\n      cn_code: userMetadata.cnCode,\n    });\n\n    setCurrentStep(\"upload\");\n  };\n\n  // Step 2: Upload files and generate taxonomies\n  const handleFilesSubmit = async () => {\n    if (!blockingChartFile && !trafficSheetFile) {\n      setError(\"Please upload at least one file (Blocking Chart or Traffic Sheet)\");\n      return;\n    }\n\n    setIsProcessing(true);\n    setError(null);\n\n    // Track file uploads\n    if (blockingChartFile) {\n      Analytics.taxonomyFileUpload(blockingChartFile, {\n        campaign_name: userMetadata.campaignName,\n        brand_name: userMetadata.brandName,\n        cn_code: userMetadata.cnCode,\n      });\n    }\n    if (trafficSheetFile) {\n      Analytics.taxonomyFileUpload(trafficSheetFile, {\n        campaign_name: userMetadata.campaignName,\n        brand_name: userMetadata.brandName,\n        cn_code: userMetadata.cnCode,\n      });\n    }\n\n    try {\n      const formData = new FormData();\n\n      // Add user metadata\n      formData.append(\"cnCode\", userMetadata.cnCode);\n      formData.append(\"marketName\", userMetadata.marketName);\n      formData.append(\"countryCode\", userMetadata.countryCode);\n      formData.append(\"brandName\", userMetadata.brandName);\n      formData.append(\"campaignName\", userMetadata.campaignName);\n\n      // Add files\n      if (blockingChartFile) {\n        formData.append(\"blockingChart\", blockingChartFile);\n      }\n      if (trafficSheetFile) {\n        formData.append(\"trafficSheet\", trafficSheetFile);\n      }\n\n      const response = await fetch(\"/api/taxonomy/parse\", {\n        method: \"POST\",\n        body: formData\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || \"Failed to parse files\");\n      }\n\n      const data = await response.json();\n      setTaxonomyRows(data.rows);\n      setPlatformBreakdown(data.platformBreakdown);\n      setCurrentStep(\"preview\");\n\n      // Track successful generation\n      Analytics.taxonomyGenerate(data.rows.length);\n\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : \"Failed to parse files\";\n      setError(errorMessage);\n\n      // Track the error\n      const filename = blockingChartFile?.name || trafficSheetFile?.name;\n      Analytics.taxonomyError(\n        errorMessage,\n        filename,\n        'parse_error'\n      );\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Handle field edit\n  const handleFieldChange = (rowIndex: number, field: string, value: any) => {\n    setTaxonomyRows(prev => {\n      const updated = [...prev];\n      const row = { ...updated[rowIndex] };\n\n      // Update input field\n      row.inputFields = {\n        ...row.inputFields,\n        [field]: value\n      };\n\n      // Regenerate taxonomies\n      row.taxonomies = generateTaxonomies(row.inputFields);\n\n      updated[rowIndex] = row;\n      return updated;\n    });\n  };\n\n  // Batch copy taxonomies\n  const handleBatchCopy = () => {\n    const lines: string[] = [];\n\n    // Header\n    const headers = ['Row #', 'Platform', 'Original Tactic'];\n    if (taxonomyRows[0]) {\n      taxonomyRows[0].taxonomies.forEach(tax => headers.push(tax.platformFieldName));\n    }\n    lines.push(headers.join('\\t'));\n\n    // Data\n    taxonomyRows.forEach((row, idx) => {\n      const cells = [String(idx + 1), row.platform, row.originalTactic];\n      row.taxonomies.forEach(tax => cells.push(tax.taxonomyString));\n      lines.push(cells.join('\\t'));\n    });\n\n    const tsv = lines.join('\\n');\n    navigator.clipboard.writeText(tsv);\n    alert('Taxonomies copied to clipboard!');\n\n    // Track copy action\n    Analytics.taxonomyCopyTSV();\n  };\n\n  // Export to Excel\n  const handleExport = async () => {\n    setIsProcessing(true);\n    setError(null);\n\n    try {\n      const response = await fetch(\"/api/taxonomy/export\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          rows: taxonomyRows,\n          exportFormat: \"embedded\"\n        })\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || \"Failed to export\");\n      }\n\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = `accutics-taxonomies-${Date.now()}.xlsx`;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n\n      // Track successful export\n      Analytics.taxonomyExport(\"embedded\");\n\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to export\");\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const handleStartOver = () => {\n    setCurrentStep(\"metadata\");\n    setBlockingChartFile(null);\n    setTrafficSheetFile(null);\n    setTaxonomyRows([]);\n    setPlatformBreakdown({});\n    setError(null);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800\">\n      {/* Header */}\n      <Header\n        title=\"Accutics Taxonomy Generator\"\n        subtitle=\"Generate UNCC-compliant taxonomies for 7 platforms\"\n        showBackButton={true}\n      />\n\n      {/* Main Content */}\n      <main className=\"px-6 py-8\">\n        {/* Step Indicator */}\n        <div className=\"max-w-4xl mx-auto mb-8\">\n          <div className=\"flex items-center justify-center gap-4\">\n            <StepIndicator step={1} label=\"Metadata\" active={currentStep === \"metadata\"} completed={currentStep !== \"metadata\"} />\n            <div className=\"w-16 h-1 bg-slate-300 dark:bg-slate-600\"></div>\n            <StepIndicator step={2} label=\"Upload Files\" active={currentStep === \"upload\"} completed={currentStep === \"preview\"} />\n            <div className=\"w-16 h-1 bg-slate-300 dark:bg-slate-600\"></div>\n            <StepIndicator step={3} label=\"Review & Export\" active={currentStep === \"preview\"} completed={false} />\n          </div>\n        </div>\n\n        {currentStep === \"metadata\" && (\n          <MetadataStep\n            metadata={userMetadata}\n            onMetadataChange={setUserMetadata}\n            onSubmit={handleMetadataSubmit}\n            error={error}\n          />\n        )}\n\n        {currentStep === \"upload\" && (\n          <UploadStep\n            blockingChartFile={blockingChartFile}\n            trafficSheetFile={trafficSheetFile}\n            onBlockingChartSelect={handleBlockingChartSelect}\n            onTrafficSheetSelect={handleTrafficSheetSelect}\n            onSubmit={handleFilesSubmit}\n            onBack={() => setCurrentStep(\"metadata\")}\n            isProcessing={isProcessing}\n            error={error}\n          />\n        )}\n\n        {currentStep === \"preview\" && taxonomyRows.length > 0 && (\n          <PreviewStep\n            rows={taxonomyRows}\n            platformBreakdown={platformBreakdown}\n            onFieldChange={handleFieldChange}\n            onBatchCopy={handleBatchCopy}\n            onExport={handleExport}\n            onStartOver={handleStartOver}\n            isProcessing={isProcessing}\n            error={error}\n          />\n        )}\n      </main>\n    </div>\n  );\n}\n\n// Step Indicator Component\nfunction StepIndicator({ step, label, active, completed }: { step: number; label: string; active: boolean; completed: boolean; }) {\n  return (\n    <div className=\"flex flex-col items-center gap-2\">\n      <div className={`\n        w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm\n        ${active ? 'bg-blue-600 text-white' : completed ? 'bg-green-600 text-white' : 'bg-slate-300 text-slate-600'}\n      `}>\n        {completed ? 'âœ“' : step}\n      </div>\n      <span className={`text-xs ${active ? 'text-slate-900 dark:text-white font-medium' : 'text-slate-500'}`}>\n        {label}\n      </span>\n    </div>\n  );\n}\n\n// Metadata Step Component\nfunction MetadataStep({\n  metadata,\n  onMetadataChange,\n  onSubmit,\n  error\n}: {\n  metadata: UserMetadata;\n  onMetadataChange: (metadata: UserMetadata) => void;\n  onSubmit: () => void;\n  error: string | null;\n}) {\n  return (\n    <div className=\"max-w-3xl mx-auto\">\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6\">\n        <h2 className=\"text-lg font-semibold text-slate-900 dark:text-white mb-4\">\n          Step 1: Campaign Metadata\n        </h2>\n        <p className=\"text-slate-600 dark:text-slate-400 text-sm mb-6\">\n          Enter campaign information that will be used across all taxonomies. These fields are required.\n        </p>\n\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2\">\n              CN Code <span className=\"text-red-500\">*</span>\n            </label>\n            <input\n              type=\"text\"\n              value={metadata.cnCode}\n              onChange={(e) => onMetadataChange({ ...metadata, cnCode: e.target.value })}\n              className=\"w-full px-3 py-2 border border-slate-300 rounded-lg dark:bg-slate-700 dark:border-slate-600\"\n              placeholder=\"e.g., CN002366\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2\">\n              Market Name (PCat) <span className=\"text-red-500\">*</span>\n            </label>\n            <input\n              type=\"text\"\n              value={metadata.marketName}\n              onChange={(e) => onMetadataChange({ ...metadata, marketName: e.target.value })}\n              className=\"w-full px-3 py-2 border border-slate-300 rounded-lg dark:bg-slate-700 dark:border-slate-600\"\n              placeholder=\"e.g., SKNCLN\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2\">\n              Country Code <span className=\"text-red-500\">*</span>\n            </label>\n            <select\n              value={metadata.countryCode}\n              onChange={(e) => onMetadataChange({ ...metadata, countryCode: e.target.value })}\n              className=\"w-full px-3 py-2 border border-slate-300 rounded-lg dark:bg-slate-700 dark:border-slate-600\"\n            >\n              <option value=\"GB\">GB</option>\n              <option value=\"US\">US</option>\n              <option value=\"CA\">CA</option>\n              <option value=\"AU\">AU</option>\n              <option value=\"DE\">DE</option>\n              <option value=\"FR\">FR</option>\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2\">\n              Brand Name <span className=\"text-red-500\">*</span>\n            </label>\n            <input\n              type=\"text\"\n              value={metadata.brandName}\n              onChange={(e) => onMetadataChange({ ...metadata, brandName: e.target.value })}\n              className=\"w-full px-3 py-2 border border-slate-300 rounded-lg dark:bg-slate-700 dark:border-slate-600\"\n              placeholder=\"e.g., Pond's\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2\">\n              Campaign Name <span className=\"text-red-500\">*</span>\n            </label>\n            <input\n              type=\"text\"\n              value={metadata.campaignName}\n              onChange={(e) => onMetadataChange({ ...metadata, campaignName: e.target.value })}\n              className=\"w-full px-3 py-2 border border-slate-300 rounded-lg dark:bg-slate-700 dark:border-slate-600\"\n              placeholder=\"e.g., Panacea-(Ponds)\"\n            />\n          </div>\n        </div>\n\n        {error && (\n          <div className=\"mt-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4\">\n            <p className=\"text-red-700 dark:text-red-200 text-sm\">{error}</p>\n          </div>\n        )}\n\n        <div className=\"mt-6 flex justify-end\">\n          <Button variant=\"primary\" onClick={onSubmit}>\n            Continue to File Upload â†’\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Upload Step Component\nfunction UploadStep({\n  blockingChartFile,\n  trafficSheetFile,\n  onBlockingChartSelect,\n  onTrafficSheetSelect,\n  onSubmit,\n  onBack,\n  isProcessing,\n  error\n}: {\n  blockingChartFile: File | null;\n  trafficSheetFile: File | null;\n  onBlockingChartSelect: (file: File) => void;\n  onTrafficSheetSelect: (file: File) => void;\n  onSubmit: () => void;\n  onBack: () => void;\n  isProcessing: boolean;\n  error: string | null;\n}) {\n  return (\n    <div className=\"max-w-3xl mx-auto\">\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6\">\n        <h2 className=\"text-lg font-semibold text-slate-900 dark:text-white mb-4\">\n          Step 2: Upload Files\n        </h2>\n        <p className=\"text-slate-600 dark:text-slate-400 text-sm mb-6\">\n          Upload at least one file: blocking chart and/or traffic sheet. The system will detect platforms automatically.\n        </p>\n\n        <div className=\"space-y-4\">\n          <FileUpload\n            label=\"Blocking Chart (Optional)\"\n            description=\"Upload blocking chart Excel file\"\n            selectedFile={blockingChartFile}\n            onFileSelect={onBlockingChartSelect}\n          />\n\n          <FileUpload\n            label=\"Traffic Sheet (Optional)\"\n            description=\"Upload traffic sheet from Traffic Sheet Generator\"\n            selectedFile={trafficSheetFile}\n            onFileSelect={onTrafficSheetSelect}\n          />\n        </div>\n\n        {isProcessing && (\n          <div className=\"mt-4 flex items-center justify-center gap-3 p-4\">\n            <svg className=\"animate-spin h-6 w-6 text-blue-600\" viewBox=\"0 0 24 24\">\n              <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\" />\n              <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\n            </svg>\n            <span className=\"text-slate-700 dark:text-slate-300 font-medium\">\n              Processing files...\n            </span>\n          </div>\n        )}\n\n        {error && (\n          <div className=\"mt-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4\">\n            <p className=\"text-red-700 dark:text-red-200 text-sm\">{error}</p>\n          </div>\n        )}\n\n        <div className=\"mt-6 flex justify-between\">\n          <Button variant=\"outline\" onClick={onBack} disabled={isProcessing}>\n            â† Back\n          </Button>\n          <Button variant=\"primary\" onClick={onSubmit} disabled={isProcessing || (!blockingChartFile && !trafficSheetFile)}>\n            Generate Taxonomies â†’\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Preview Step Component\nfunction PreviewStep({\n  rows,\n  platformBreakdown,\n  onFieldChange,\n  onBatchCopy,\n  onExport,\n  onStartOver,\n  isProcessing,\n  error\n}: {\n  rows: TaxonomyRow[];\n  platformBreakdown: { [platform: string]: number };\n  onFieldChange: (rowIndex: number, field: string, value: any) => void;\n  onBatchCopy: () => void;\n  onExport: () => void;\n  onStartOver: () => void;\n  isProcessing: boolean;\n  error: string | null;\n}) {\n  const validCount = rows.filter(r => r.inputFields.validationErrors.length === 0).length;\n  const platformColors: { [platform: string]: string } = {\n    'TradeDesk': 'bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800',\n    'DV360': 'bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800',\n    'Amazon DSP': 'bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800',\n    'Meta': 'bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800',\n    'Pinterest': 'bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800',\n    'TikTok': 'bg-pink-50 dark:bg-pink-900/20 border-pink-200 dark:border-pink-800',\n    'Snapchat': 'bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800'\n  };\n\n  return (\n    <div className=\"w-full max-w-7xl mx-auto\">\n      {/* Summary */}\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6 mb-4\">\n        <h2 className=\"text-lg font-semibold text-slate-900 dark:text-white mb-4\">\n          Step 3: Review & Export\n        </h2>\n        <div className=\"flex flex-wrap gap-2 mb-4\">\n          {Object.entries(platformBreakdown).map(([platform, count]) => (\n            <div key={platform} className={`px-3 py-1 rounded-full border ${platformColors[platform] || 'bg-gray-50'} text-xs font-medium`}>\n              {platform}: {count}\n            </div>\n          ))}\n          <div className=\"px-3 py-1 rounded-full border bg-slate-50 text-xs font-medium\">\n            Total: {rows.length} | âœ“ Ready: {validCount}\n          </div>\n        </div>\n\n        <div className=\"flex gap-2\">\n          <Button variant=\"outline\" onClick={onBatchCopy} disabled={isProcessing}>\n            Copy All\n          </Button>\n          <Button variant=\"primary\" onClick={onExport} disabled={isProcessing || validCount === 0}>\n            {isProcessing ? 'Exporting...' : `Export to Excel (${validCount} ready)`}\n          </Button>\n          <Button variant=\"outline\" onClick={onStartOver} disabled={isProcessing}>\n            Start Over\n          </Button>\n        </div>\n      </div>\n\n      {/* Table */}\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg shadow-lg overflow-hidden\">\n        <div className=\"overflow-x-auto\" style={{ maxHeight: 'calc(100vh - 400px)' }}>\n          <table className=\"min-w-full divide-y divide-slate-200 dark:divide-slate-700\">\n            <thead className=\"sticky top-0 z-10 bg-slate-100 dark:bg-slate-900\">\n              <tr>\n                <th className=\"px-3 py-2 text-left text-xs font-medium uppercase\">#</th>\n                <th className=\"px-3 py-2 text-left text-xs font-medium uppercase\">Platform</th>\n                <th className=\"px-3 py-2 text-left text-xs font-medium uppercase\">Original Tactic</th>\n                <th className=\"px-3 py-2 text-left text-xs font-medium uppercase min-w-[600px]\">Generated Taxonomies</th>\n                <th className=\"px-3 py-2 text-left text-xs font-medium uppercase\">Status</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-slate-200 dark:divide-slate-700\">\n              {rows.map((row, idx) => (\n                <tr key={idx} className={row.inputFields.validationErrors.length > 0 ? 'bg-red-50 dark:bg-red-900/10' : 'hover:bg-slate-50 dark:hover:bg-slate-900/50'}>\n                  <td className=\"px-3 py-2 text-xs\">{idx + 1}</td>\n                  <td className=\"px-3 py-2 text-xs\">\n                    <span className={`px-2 py-1 rounded text-xs font-medium ${platformColors[row.platform] || 'bg-gray-50'}`}>\n                      {row.platform}\n                    </span>\n                  </td>\n                  <td className=\"px-3 py-2 text-xs\">{row.originalTactic}</td>\n                  <td className=\"px-3 py-2\">\n                    <div className=\"space-y-1 text-xs font-mono\">\n                      {row.taxonomies.map((tax, taxIdx) => (\n                        <div key={taxIdx} className=\"truncate\" title={tax.taxonomyString}>\n                          <strong className=\"text-slate-600 dark:text-slate-400\">{tax.platformFieldName}:</strong> {tax.taxonomyString || '(incomplete)'}\n                        </div>\n                      ))}\n                    </div>\n                  </td>\n                  <td className=\"px-3 py-2 text-center\">\n                    {row.inputFields.validationErrors.length === 0 ? (\n                      <span className=\"text-green-600\">âœ“</span>\n                    ) : (\n                      <span className=\"text-red-600\" title={row.inputFields.validationErrors.join(', ')}>âš </span>\n                    )}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"mt-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4\">\n          <p className=\"text-red-700 dark:text-red-200 text-sm\">{error}</p>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}